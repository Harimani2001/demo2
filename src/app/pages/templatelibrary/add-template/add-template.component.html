<div class="row">
  <div class="col-sm-12" id="float-action">
    <app-card>
      <div class="row">
        <div class="page-header-title col-sm-6">
          <i class="icofont icofont-file-document bg-c-blue"></i>
          <div class="d-inline">
            <h4 class="strong">Template Library</h4>
            <span *ngIf="this.modelInput.id==0">Add Template Library</span>
            <span *ngIf="this.modelInput.id!=0">Edit Template Library</span>
          </div>
        </div>
        <div class="col-sm-6">
          <div style="text-align: right;">
            <button *ngIf="this.modelInput.id ==0" type="button"
              class="btn btn-sm btn-success waves-effect waves-light m-r-10"
              (click)="$event.preventDefault();onSave();">Save</button>
            <button *ngIf="this.modelInput.id!=0" type="button"
              class="btn btn-sm btn-success waves-effect waves-light m-r-10"
              (click)="$event.preventDefault();openSuccessUpdateSwal();">Update</button>
            <button type="button" class="btn btn-sm btn-danger waves-effect waves-light m-r-10"
              (click)="onClickClose()">Cancel</button>
          </div>
        </div>
      </div>
    </app-card>
  </div>

  <div class="col-sm-12">
    <br><br><br>
    <app-card>
      <form #vendorForm="ngForm">
        <table id="add-table" class="table w-100">
          <tbody>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Project<span class="asterisk required">*</span> :</strong>
                  </div>
                  <div class="col-sm-9">
                    <input autofocus="autofocus" type="text" id="projectName" class="form-control"
                      [(ngModel)]="modelInput.projectName" name="projectName" #projectName="ngModel"
                      placeholder="Project Name" required />
                    <div class="messages text-danger" *ngIf="this.projectNameValidation">Project Name can't be blank
                    </div>
                  </div>
                </div>
              </td>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Category<span class="asterisk">*</span> :</strong>
                  </div>
                  <div class="col-sm-9">
                    <select class="form-control" name="projectSetupType" id="projectType"
                      [(ngModel)]="modelInput.projectType" name="projectType" #projectType="ngModel"
                      placeholder="projectType">
                      <option *ngFor="let data of projectTypeList" [value]="data.key" placeholder="projectType">
                        {{data.value}}</option>
                    </select>
                    <div class="messages text-danger" *ngIf="this.projectTypeValidation">Project Type can't be blank
                    </div>
                  </div>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Software :</strong>
                  </div>
                  <div class="col-sm-9">
                    <input autofocus="autofocus" type="text" id="software" class="form-control"
                      [(ngModel)]="modelInput.software" name="software" #software="ngModel" placeholder="Software"
                      required />
                  </div>
                </div>
              </td>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Organization<span class="asterisk required">*</span> :</strong>
                  </div>
                  <div class="col-sm-9">
                    <angular2-multiselect [data]="this.organizationlist" id="orgsInfo" class="form-control"
                      [(ngModel)]="modelInput.orgsInfo" name="orgsInfo" #orgsInfo="ngModel"
                      [settings]="dropdownSettings">
                    </angular2-multiselect>
                    <div class="messages text-danger" *ngIf="this.organizationValidation">Organization can't be blank
                    </div>
                  </div>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Banner :</strong>
                  </div>
                  <div class="col-sm-9">
                    <ng-container *ngIf="modelInput.bannerName =='' ">
                      <input type="file" name="file" required (change)="onImageUpload1($event)"
                        [(ngModel)]='uploadSingleFile' accept=".jpeg,.png" #file="ngModel" />
                      <h6 style="font-size: 12px"><span class="asterisk required">*Note:</span>Upload .jpg,.png
                        files only</h6>
                      <div class="messages text-danger"
                        *ngIf="submitted && ( file.errors?.required && (modelInput.bannerName==''))">Please Upload File
                      </div>
                      <div class="messages text-danger" *ngIf="(this.fileValidationMessage1!='')">
                        {{this.fileValidationMessage1}}</div>
                    </ng-container>
                    <a style="cursor:pointer;font-weight: bold" *ngIf="modelInput.bannerName!=''" ngbTooltip="download"
                      (click)="downloadFileOrView(modelInput,false)">{{modelInput.bannerName}}&nbsp;&nbsp;</a>
                    <a style="cursor:pointer;font-weight: bold" *ngIf="modelInput.bannerName!=''" ngbTooltip="delete"
                      (click)="deleteUploadedImage(modelInput)"><span class="asterisk ti-close"></span>&nbsp;&nbsp;</a>
                  </div>
                </div>
              </td>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Attachment<span class="asterisk required">*</span> :</strong>
                  </div>
                  <div class="col-sm-5">
                    <ng-container *ngIf="modelInput.attachmentName =='' ">
                      <input type="file" name="file" required (change)="onFileUpload1($event)"
                        [(ngModel)]='uploadSingleFile' accept=".xlsx,.xls" #file="ngModel" />
                      <h6 style="font-size: 12px"><span class="asterisk required">*Note:</span>Upload .xlx,.xlsx
                        files only</h6>
                      <div class="messages text-danger"
                        *ngIf="submitted && ( file.errors?.required && (modelInput.attachmentName==''))">Please Upload
                        File</div>
                      <div class="messages text-danger" *ngIf="(this.fileValidationMessage!='')">
                        {{this.fileValidationMessage}}</div>
                    </ng-container>
                    <a style="cursor:pointer;font-weight: bold" *ngIf="modelInput.attachmentName!=''"
                      ngbTooltip="download"
                      (click)="downloadFileOrView(modelInput,true)">{{modelInput.attachmentName}}&nbsp;&nbsp;</a>
                   
                    <div class="messages text-danger" *ngIf="this.fileValidation">Attachment can't be blank</div>
                  </div>
                  <div class="col-sm-1">
                    <a style="cursor:pointer;font-weight: bold" *ngIf="modelInput.attachmentName!=''"
                    ngbTooltip="delete" (click)="deleteUploadedFile(modelInput)"><span
                      class="asterisk ti-close"></span>&nbsp;&nbsp;</a>
                  </div>
                  <div class="col-sm-3">
                    <a href="javascript:" class="float-left" *ngIf="modelInput.id == 0">
                      <img class="image-radius rounded-0 img-30" src="assets/icon/png-icons/csvDownload.png"
                        alt="Sample Download" placement="top" ngbTooltip="Sample Download"
                        (click)="sampleTemplateLibDownload();"></a>
                  </div>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Equipment :</strong>
                  </div>
                  <div class="col-sm-9">
                    <input autofocus="autofocus" type="text" id="equipment" class="form-control"
                      [(ngModel)]="modelInput.equipment" name="equipment" #equipment="ngModel" placeholder="Equipment"
                      required />
                  </div>
                </div>
              </td>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Created By :</strong>
                  </div>
                  <div class="col-sm-9">
                    <input autofocus="autofocus" type="text" id="createdName" class="form-control"
                      [(ngModel)]="modelInput.createdName" name="createdName" #createdName="ngModel"
                      placeholder="Created By" required />
                  </div>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-3">
                    <strong class="strong">Active :</strong>
                  </div>
                  <div class="col-sm-9">
                    <label class="switch"><input type="checkbox" name="activeFlag"
                        [(ngModel)]="modelInput.activeFlag" /><span class="slider round"></span></label>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="form-group row">
          <app-file-upload-for-doc #fileupload [multiple]=true [dfFile] =false [onlyView]=false [documentId]="this.receivedDocId"
            [update]="this.modelInput.id!=0" [documentCode]="this.helper.TEMPLATE_LIBRARY_VALUE"></app-file-upload-for-doc>
        </div>
        <div *ngIf="this.inputField">
          <app-form-extended #formExtendedId [(inputField)]='inputField'
            [documentId]="this.helper.TEMPLATE_LIBRARY_VALUE" [(submitted)]='submitted'></app-form-extended>
        </div>
      </form>
      <div class="form-group row" style="text-align: center;" id="fileMainUploadId"></div>
    </app-card>
  </div>
</div>

<div *ngIf="spinnerFlag" class="loading">Loading&#8230;</div>