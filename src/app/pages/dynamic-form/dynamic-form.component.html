
<div class="row" >
  <div class="col-xl-12">
    <div class="row ">
      <div class="col-sm-12" id="float-action">
        <app-card>
          <div class="row">
            <div class="page-header-title col-sm-4">
              <i class="icofont icofont-file-document bg-c-blue"></i>
              <div class="d-inline">
                <h5 class="strong">{{this.dynamicForm.templateName}}</h5>
                <p><span id="align" *ngIf="this.dynamicForm.dynamicFormCode">Document Code :
                    {{this.dynamicForm.dynamicFormCode}}</span>
                  <span id="align" *ngIf="this.dynamicForm.reportNumber">Report Number :
                    {{this.dynamicForm.reportNumber}}</span>
                </p>
              </div>
            </div>
            <div class="col-sm-3">
              <app-stepperprogress *ngIf="this.publishedFlag" [isIcon]="true"></app-stepperprogress>
            </div>
            <div class="col-sm-5 text-right">
              <!--START : Not Group Form-->
              <ng-container *ngIf="!this.isMapping">
                <a *ngIf="(dynamicForm.id!=0 || dynamicForm.id==0) && !this.dynamicForm.publishedflag && this.enableCalculate"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/calculate.png" alt="Calculate" placement="bottom" ngbTooltip="Calculate"
                    (click)="$event.preventDefault();calculateFormula()"></a>

                <a *ngIf="isEquipmentStatus && dynamicForm.id==0 && !this.dynamicForm.publishedflag" href="javascript:"
                  class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Save" placement="bottom" ngbTooltip="Save"
                    (click)="$event.preventDefault();saveDynamicFormData(formValidation.valid,false);"></a>

                <a *ngIf="permissionModel.createButtonFlag && !isEquipmentStatus && dynamicForm.id==0 && !this.dynamicForm.publishedflag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Save" placement="bottom" ngbTooltip="Save"
                    (click)="$event.preventDefault();saveDynamicFormData(formValidation.valid,false);"></a>

                <a *ngIf="permissionModel.updateButtonFlag && dynamicForm.id!=0 && !this.dynamicForm.publishedflag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Update" placement="bottom" ngbTooltip="Update"
                    (click)="$event.preventDefault();saveReasonForEdit(formValidation.valid);"></a>

                <a *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag" href="javascript:" class="m-r-15"><img
                    class="image-radius rounded-0 img-25 img-height" src="assets/icon/png-icons/emailAndNotify.png"
                    alt="Invite User" placement="bottom" ngbTooltip="Invite User"
                    (click)="inviteUser(dynamicForm.id);"></a>

                <a *ngIf="this.permissionModel.publishButtonFlag && dynamicForm.id!=0 && !this.dynamicForm.publishedflag && !isWorkflowDocumentOrderSequence"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/published.png" alt="Publish" placement="bottom" ngbTooltip="Publish"
                    (click)="saveDynamicFormData(formValidation.valid,true);"></a>

                <a *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag && permissionModel.workFlowButtonFlag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/verify.png" alt="Verify" placement="bottom" ngbTooltip="Verify"
                    (click)="verify(dynamicForm.permissionConstant,this.dynamicForm.dynamicFormCode,dynamicForm.id);"></a>

                <a *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag &&permissionModel.deleteButtonFlag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/delete.png" alt="Delete" placement="bottom" ngbTooltip="Delete"
                    (click)="deleteTemplateSwal(dynamicForm);"></a>
              </ng-container>
              <!--END : Not Group Form-->

              <!--START :Group Form-->
              <ng-container *ngIf="this.isMapping && this.groupFormPart">
                <a *ngIf="isEquipmentStatus && this.groupFormPart.id==0 && !this.groupFormPart.publishedflag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Save" placement="bottom" ngbTooltip="Save"
                    (click)="$event.preventDefault();saveDynamicFormData(formValidation.valid,false,this.groupFormPart);"></a>

                <a *ngIf="permissionModel.createButtonFlag && !isEquipmentStatus && this.groupFormPart.id==0 && !this.groupFormPart.publishedflag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Save" placement="bottom" ngbTooltip="Save"
                    (click)="$event.preventDefault();saveDynamicFormData(formValidation.valid,false,this.groupFormPart);"></a>

                <a *ngIf="permissionModel.updateButtonFlag && this.groupFormPart.id!=0 && !this.groupFormPart.publishedflag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/save.svg" alt="Update" placement="bottom" ngbTooltip="Update"
                    (click)="$event.preventDefault();saveReasonForEdit(formValidation.valid,this.groupFormPart);"></a>

                <a *ngIf="this.permissionModel.publishButtonFlag && this.groupFormPart.id!=0 && !this.groupFormPart.publishedflag && isWorkflowDocumentOrderSequence && 
                    (!this.dynamicForm.workFlowSequenceFlag || this.groupFormPart.previousFormWrokFlowCompletionFlag)"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/published.png" alt="Publish" placement="bottom" ngbTooltip="Publish"
                    (click)="saveDynamicFormData(formValidation.valid,true,this.groupFormPart);"></a>

                <a *ngIf=" this.groupFormPart.id!=0 && !this.groupFormPart.publishedflag && permissionModel.workFlowButtonFlag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/verify.png" alt="Verify" placement="bottom" ngbTooltip="Verify"
                    (click)="verify(this.groupFormPart.permissionUniqueConstant,this.dynamicForm.dynamicFormCode,this.groupFormPart.id);"></a>

                <a *ngIf=" this.groupFormPart.id!=0 && !this.groupFormPart.publishedflag && permissionModel.deleteButtonFlag"
                  href="javascript:" class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                    src="assets/icon/png-icons/delete.png" alt="Delete" placement="bottom" ngbTooltip="Delete"
                    (click)="documentPreview(this.groupFormPart);"></a>
              </ng-container>
              <!--END :Group Form-->

              <a *ngIf="!this.pdfViewButton && !dynamicForm.workFlowCompletionFlag" href="javascript:"
                class="m-r-15"><img class="image-radius rounded-0 img-25 img-height"
                  src="assets/icon/png-icons/pdfSetting.png" alt="PDF View" placement="bottom" ngbTooltip="PDF View"
                  (click)="documentPreview(this.groupFormPart);"></a>

              <ng-container *ngIf="this.pdfViewButton">
                <label> Data View&nbsp;<label class="switch"><input type="checkbox" name="pdfView" [(ngModel)]="pdfView"
                      (change)="documentPdfPreview(dynamicForm)" />
                    <span class="slider round"></span></label>&nbsp;PDF View
                </label>
              </ng-container>

              <a *ngIf="dynamicForm.id!=0 && dynamicForm.qrCodeFlag" href="javascript:" class="m-r-15"><img
                  class="image-radius rounded-0 img-25 img-height" src="assets/icon/png-icons/qrCode.png" alt="QR Code"
                  placement="bottom" ngbTooltip="QR Code" (click)="generateQRCode()"></a>

              <button type="button" *ngIf="!this.dynamicForm.publishedflag && dynamicForm.apiConfigDataFlag"
                (click)="getAPIData()" class="btn btn-sm btn-primary waves-effect waves-light">Get Data</button>

              <button type="button" *ngIf="dynamicForm.apiRawDataFilePath" (click)="downloadRawPDF()"
                class="btn btn-sm btn-primary waves-effect waves-light">Raw Data </button>

              <a *ngIf="dynamicForm.formType!='Organization Specific'" href="javascript:" class="m-r-15"><img
                  class="image-radius rounded-0 img-25" src="assets/icon/png-icons/menu.png" alt="Table of Content"
                  placement="bottom" ngbTooltip="Table of Content"
                  (click)="onClickTableOfContent(individualconstants)"></a>

              <a *ngIf="dynamicForm.formType=='Organization Specific'" href="javascript:" class="m-r-15"><img
                  class="image-radius rounded-0 img-25" src="assets/icon/png-icons/menu.png" alt="Table of Content"
                  placement="bottom" ngbTooltip="Table of Content"
                  (click)="onClickTableOfContentForOrgForm(individualconstants)"></a>

              <a href="javascript:"><img class="image-radius rounded-0 img-25" src="assets/icon/png-icons/cancel.png"
                  alt="Cancel" placement="bottom" ngbTooltip="Cancel" (click)="navigateDestination();"></a>
            </div>
          </div>
        </app-card>
      </div>
      <br><br><br><br><br>
      <div class="col-sm-12">
        <br><br><br><br>
        <app-card *ngIf="this.publishedFlag">
          <!-- <app-stepperprogress></app-stepperprogress> -->
        </app-card>
      </div>
    </div>

    <ng-container *ngIf="pdfView">
      <br>
			<ngb-tabset #formDataListTab="ngbTabset" *ngIf="isMapping" class="md-tabs" [activeId]="nextId"
				(tabChange)="toggleLoadFormData($event.nextId,true)">
		
				<ngb-tab *ngFor="let groupPart of this.dynamicForm.formDataList; let f = index " id="{{f}}" class="col-md-2">
					<ng-template ngbTabTitle>
						<a href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary">
							<h5 class="card-header-text">{{groupPart.formName}}
								<span class="capitalize messages text-danger" *ngIf="!groupPart.publishedflag">(Not -
									Published)</span>
								<span class="capitalize messages text-success"
									*ngIf="groupPart.publishedflag">(Published)</span>
							</h5>
						</a>
					</ng-template>
					<ng-template ngbTabContent></ng-template>
				</ngb-tab>
			</ngb-tabset>
			<br>
      <div class="col-sm-12">
        <a role="button"><img *ngIf="!forumFlag" class="image-radius rounded-0 img-30"
          src="assets/icon/png-icons/forum.png" alt="Forum" placement="bottom" ngbTooltip="Forum" (click)="forumFlag=!forumFlag;"></a>
				<div class="row pl-5 pr-2">
					<ng-template #infoForForum>
					<div> Use the following symbol for document reference :<br>@ - User<br>* - Section<br># - Document</div>
					</ng-template>
					<div *ngIf="forumFlag" class="col-sm-12 text-right p-0">
					  <a  [ngbPopover]="infoForForum" triggers="mouseenter:mouseleave" container="body">
						<i class="icofont icofont-info-square info"></i>
					  </a>
					  <a   role="button" (click)="forumFlag=!forumFlag;" container="body" triggers="mouseenter:mouseleave"
						[ngbPopover]="forumFlag?'Collapse':'Expand'"> <i
						  [ngClass]="forumFlag?'fa fa-minus-circle':'fa fa-plus-circle'"
						  aria-hidden="true"></i></a>
					</div>
					<div  [ngClass]="forumFlag?'col-sm-8':'col-sm-12'" [ngStyle]="{'overflow': 'auto','max-height':this.height}">
					  <pdf-viewer style="display: block;" #ApprovalPDFViewerComponent [src]="pdfURL" [page]="pageVariable"
						[show-all]="showAll" (after-load-complete)="afterLoadComplete($event)" [zoom]="zoom" [stick-to-page]="true"
						(error)="onError($event)"></pdf-viewer>
					</div>
					<div *ngIf="forumFlag" class="col-sm-4" [ngStyle]="{'overflow': 'auto','max-height':this.height}">
					  <app-document-forum #forumView [isDocumentWorkFlow]="true" [chapter]="this.outLineList"></app-document-forum>
					</div>
				  </div>
      </div>
    </ng-container>

    <ng-container *ngIf="!pdfView">
      <form #selection="ngForm">
      <div  class="col-sm-12 row">
        <div *ngIf="this.dynamicForm.projectEnabledFlag" class="col-sm-3 form-group">
          <label>Project</label><span class="asterisk">*</span>
          <select name="project" [(ngModel)]="this.dynamicForm.projectDropDownId" class="form-control" #project="ngModel" required>
            <option value="" disabled selected>Select Project</option>
            <option *ngFor="let proj of projectList" [ngValue]="proj.id">{{proj.itemName}}</option>
          </select>

          <div class="messages text-danger" *ngIf="dropDownValidation.value.project==0 && dropDownSelectionRequired">
            Project selection in required</div>
          
        </div>
        
        
        <div *ngIf="this.dynamicForm.cleanRoomFlag" class="col-sm-3  form-group">
          <label>CleanRoom</label><span class="asterisk">*</span>

          <ng-template #popContentEntry>

            
            <div><label style="font-size: 10px !important"><b>Classification:</b></label></div>
            <div><label style="font-size: 10px !important"><b>Total Area:</b></label></div>
          </ng-template>
          <select name="cleanRoom" [(ngModel)]="this.dynamicForm.cleanRoomId" class="form-control" #cleanRoom="ngModel" required>
            <option value="0" disabled selected>Select CleanRoom</option>
            <option *ngFor="let cleanRoom of cleanRoomList" [ngValue]="cleanRoom.value">{{cleanRoom.label}}</option>
          </select>
          <div class="messages text-danger" *ngIf="dropDownValidation.value.cleanRoom=='0' && dropDownSelectionRequired">
            Please select cleanRoom</div>
        </div>

        <div *ngIf="this.dynamicForm.equipmentFlag" class="col-sm-3  form-group" >
          <label>Equipment</label><span class="asterisk">*</span> 
          <ng-template #popContentEntry>

            <div><label style="font-size: 10px !important"><b>Name:</b> {{this.equipmentinfo['name']}}</label>
            </div>
            <div><label style="font-size: 10px !important"><b>Model:</b>{{this.equipmentinfo['model']}}</label></div>
            <div><label style="font-size: 10px !important"><b>Qualification Status:</b>{{this.equipmentinfo['qualificationStatus']}}</label></div>

          </ng-template>
          <a href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary" placement="right"
            placement="top" (click)="loadEquipmentLog(this.dynamicForm.equipmentId)" [ngbTooltip]="popContentEntry">
            <i style="font-size: 20px" class="icofont icofont-info-circle"></i>
          </a>

          <select [(ngModel)]="this.dynamicForm.equipmentId" name="equipment" #equipment="ngModel"
          (ngModelChange)="loadBatch(this.dynamicForm.equipmentId);" class="form-control" required>
            <option value="0" disabled selected>Select Equipment</option>
            <option *ngFor="let equipment of equipmentListBasedOnLocation" [ngValue]="equipment.value">{{equipment.label}}</option>
          </select>
          <div class="messages text-danger" *ngIf="dropDownValidation.value.equipment=='0' && this.dropDownSelectionRequired==true">
            Please select Equipment</div>
        </div>
        

        <div *ngIf="this.dynamicForm.productOrBatchFlag" class="col-sm-3">
          <label>Product/Batch</label><span class="asterisk">*</span>
          <select name="ProdBatch" [(ngModel)]="this.dynamicForm.batchId" [disabled]="this.isEquipmentStatus"
          #batchId="ngModel"class="form-control form-group" required>
            <option value="0" disabled selected>Select Product/Batch</option>
            <option *ngFor="let batch of batchList" [ngValue]="batch.key">{{batch.value}}</option>
          </select>
        </div>
        </div>
      </form>
<br>


    <!-- <div  class="col-sm-12 form-group row" *ngIf="equipmentList.length>0" >
      <label>Equipment:</label>
      <select name="select" class="form-control"  *ngIf="equipmentList.length!=1" [disabled]="this.isEquipmentStatus"
        [(ngModel)]="this.dynamicForm.equipmentId" name="equipment" #equipment="ngModel"
        (ngModelChange)="loadBatch(this.dynamicForm.equipmentId);">
        <option value="0" disabled selected>Select Equipment</option>
        <option *ngFor="let equipment of equipmentList" [ngValue]="equipment.key">{{equipment.value}}</option>
      </select>
      <input disabled  *ngIf="equipmentList.length==1" class="form-control" [(ngModel)]="this.dynamicForm.equipmentName" name="equipment" #equipment="ngModel">
      <br>
      <label>Batch:</label>
      <select name="select" class="form-control"  [(ngModel)]="this.dynamicForm.batchId" name="batch" [disabled]="this.isEquipmentStatus"
        #batchId="ngModel">
        <option *ngFor="let batch of batchList" [ngValue]="batch.key">{{batch.value}}</option>
      </select>
    </div> -->
    <div *ngIf="this.masterFormList.length!=0" class="form-group row ">
      <label class="col-sm-12 col-form-label">Form Reference&nbsp;&nbsp;&nbsp; 
        <span style="cursor: pointer;color: blue;"><u class="black"(click)="openModal();">Click here to select data</u></span>
      </label>
      <div>
        <div class="col-sm-12">
            <ng-select [ngClass]="'ng-select'" [options]="masterFormDataList" [multiple]="true" name="name" rounds="ngModel"  
              [(ngModel)]="this.dynamicForm.masterDataLinkIds" (ngModelChange)="setFlagTrue()" #masterFormLink='ngModel'></ng-select>
            
        </div>
      </div>
    </div>
    <div>
      <ng-container class="well well-lg" *ngFor="let table of this.dynamicJsonTableView; let i=index"><br>
      <div class="row">
        <label class="col-sm-12">
          <h4 class="strong">{{table.masterName}}</h4>
        </label>
      </div>
      <ngx-datatable [scrollbarH]="true" #myTable class="data-table dt-chk" style="overflow: unset!important;"
        [rows]='table.tableData.rows | textPipeFilter : table.filterQuery' [limit]="10" [columnMode]="'force'"
        [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'">
        <ng-container *ngFor="let col of table.tableData.columns; let i = index">
          <ngx-datatable-column sortable *ngIf="i!=1" style="font-weight: bold;" [name]="col" flexGrow="1.0">
            <ng-template ngx-datatable-header-template>
              <span class="datatable-header-cell-wrapper">
                <span class="datatable-header-cell-label draggable"><label [innerHtml]="col"></label></span>
              </span>
            </ng-template>
            <ng-template  let-row="row" ngx-datatable-cell-template>
              <ng-container *ngIf="i==0">
                <a container="body" role="button" class="m-r-15 crm-action-edit text-muted text-primary" 
                placement="top" ngbTooltip="Edit" (click)="editMasterReference(row[1])">
                <i  class="icofont icofont-edit edit"></i>
              </a>
              </ng-container>
              <strong *ngIf="i!=0 "><label [innerHtml]="row[i]"></label></strong>
            </ng-template>
          </ngx-datatable-column>
        </ng-container>
      </ngx-datatable>
    </ng-container>
    </div>
    <div *ngIf="this.isMapping" class="md-tabs">
      <ngb-tabset  #formDataListTab="ngbTabset"  [activeId]="nextId" (tabChange)="toggleLoadFormData($event.nextId,true)" >

        <ngb-tab *ngFor='let formData of this.dynamicForm.formDataList; let f = index'  id="{{f}}"
         class="col-md-2" >
        <ng-template ngbTabTitle>
          <a href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary" >
            <h5 class="card-header-text strong">{{formData.formName}}
              <span class="capitalize messages text-danger" *ngIf="!formData.publishedflag">(Not - Published)</span>
              <span class="capitalize messages text-success" *ngIf="formData.publishedflag">(Published)</span>
            </h5>
          </a>
      </ng-template>
          <ng-template ngbTabContent>
            <div class="m-t-15">
              <div class="card">
                <div class="card-header">

                </div>
                <div class="card-body">
                  <div class="view-info" >
                    <div class="row">
                      <div class="col-sm-12">
                        <app-card *ngIf="pdfView">
                            <div class="col-sm-12">
                              <goval-pdf-viewer [src]="pdfURL" [fileName]="pdfName"></goval-pdf-viewer>
                            </div>
                        </app-card>
                        <app-card *ngIf="!pdfView" [classHeader]="true" [blockClass]="'table-border-style'">
                          <div class="row-sm-8">
                            <div class="col-sm-12">
                              <form #formId="ngForm" style="background: white !important;border: none;"    class="well well-lg">
                                <div class="row">
                                  <div [ngClass]="isColumnsRequired(input)?'col-sm-12':'col-sm-6'" *ngFor='let input of inputField'>
                                  <div *ngIf="(input.type==='section')">
                                    <app-card>
                                      <div class="row">
                                        <div class="col-sm-6">
                                          <h4>{{input.label}}</h4>
                                        </div>
                                        <div class="col-sm-6" style="text-align: right;">
                                          <a container="body" *ngIf="!input.viewSectionFlag" href="javascript:;"
                                            (click)="input.viewSectionFlag = !input.viewSectionFlag"
                                            class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Expand"
                                            (click)="loadTaskData();"><i style="font-size: 25px;color: black;"
                                              class="icofont icofont-circled-down"></i>
                                          </a>
                                          <a container="body" *ngIf="input.viewSectionFlag" href="javascript:;"
                                            (click)="input.viewSectionFlag = !input.viewSectionFlag"
                                            class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Hide"><i
                                              style="font-size: 25px;color: black;" class="icofont icofont-circled-up"></i>
                                          </a>
                                        </div>
                                      </div>
                                      <div *ngIf="input.viewSectionFlag" class="row">
                                        <div [ngClass]="isColumnsRequired(sectionField)?'col-sm-12':'col-sm-6'" *ngFor='let sectionField of input.childFields'>
                                          <div class="form-group row" *ngIf="(sectionField.subtype==='Text')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-5" [ngStyle]="{'background-color': !sectionField.color? 'white' : sectionField.color}" [disabled]="sectionField.disabled" [type]='sectionField.subtype' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                                                [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength" (ngModelChange)="conditionCheckFull(input.childFields);" (blur)="reference(input.childFields)"
                                                #text="ngModel">
                                              <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.subtype==='Email')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                                                <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-5" [type]='sectionField.subtype' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                                                [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength"
                                                [pattern]="helper.email_pattern" #email="ngModel">
                                              <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                              <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.subtype==='Mobile')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-5" type="text" [name]='sectionField.name' [(ngModel)]='sectionField.value'
                                                [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength"
                                                #tel="ngModel" pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)">
                                              <div class="messages text-danger" *ngIf="(tel.touched || submitted) && tel.errors?.required">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                              <div class="messages text-danger" *ngIf="tel.errors?.pattern">Please enter a valid <label
                                                  [innerHtml]="sectionField.label"></label></div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf=" (sectionField.type==='number')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-3" [type]='sectionField.type' [name]='sectionField.name' [(ngModel)]='sectionField.value' [disabled]="sectionField.disabled"
                                                [minlength]="sectionField.minlength" [maxlength]="sectionField.maxlength" [required]="sectionField.required"  (ngModelChange)="calculation(input.childFields);" (blur)="reference(input.childFields)" (keypress)="onlyNumberWithDecimal($event,sectionField.value)"
                                                #dateNumber="ngModel">
                                              <div class="messages text-danger"
                                                *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                                                <label [innerHtml]="sectionField.label"></label></div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='date')" >
                                              <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                    [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                    class="asterisk">*</span>
                                                  <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                    class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                    [ngbTooltip]="sectionField.description">
                                                    <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                   </a>
                                                  <button *ngIf="sectionField.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                                                  ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                                                </label></b>
                                              <div class="col-sm-10">
                                                <input class="form-control col-sm-3"  [disabled]="sectionField.disabled" [type]='sectionField.type' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                                                   [required]="sectionField.required" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)"
                                                  #dateNumber="ngModel">
                                                <div class="messages text-danger"
                                                  *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                                                  <label [innerHtml]="sectionField.label"></label></div>
                                              </div>
                                            </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='file')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div *ngIf="(!sectionField.multiple)"  class="col-sm-6">
                                              <input [type]='sectionField.type' [name]='sectionField.name' (change)="onFileUpload($event,input)"
                                                [(ngModel)]='sectionField.value' #file="ngModel">
                                              <div class="messages text-danger"
                                                *ngIf="(file.touched || submitted) && ( sectionField.required && ( sectionField.values == undefined|| sectionField.values.length==0))">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                                            <div *ngIf="(sectionField.multiple)"  class="col-sm-6">
                                              <div  class=" files color">
                                                <input type="file" [name]='sectionField.name' [(ngModel)]='sectionField.value' (change)="onFileUpload($event,input)" multiple  #fileMultiple="ngModel">
                                              </div>
                                             <div class="messages text-danger"
                                                *ngIf="(fileMultiple.touched || submitted) && ( sectionField.required && ( sectionField.values == undefined|| sectionField.values.length==0))">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                                            <br><br>
                                            <div class="col-form-label"  *ngIf='sectionField.values!=undefined && sectionField.values.length>0'>
                                              <strong class="col-sm-12" *ngIf="(sectionField.multiple)" >Uploaded Files</strong>
                                              <strong class="col-sm-12" *ngIf="(!sectionField.multiple)" >Uploaded File</strong>
                                              <div class="dt-desc dy-ui">
                                                <table class="table-striped table-bordered">
                                                  <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                                  <tbody>
                                                  <tr *ngFor="let file of sectionField.values ; let fileIndex=index ">
                                                    <td>{{fileIndex+1}}</td>
                                                    <td><label>{{file.fileName}}</label></td>
                                                    <td><label>{{file.displayDate}}</label></td>
                            
                                                    <td><a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                                      ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,sectionField.name)"></a>&nbsp;&nbsp;
                                                      <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                                       ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,sectionField.name)"></a>&nbsp;&nbsp;
                                                      <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                                      ngbTooltip="delete" (click)="deleteUploadedFile(sectionField.values,fileIndex,sectionField.name)"></a>&nbsp;&nbsp;
                                                    </td>
                                                  </tr>
                                                </tbody>
                                                </table>
                                              </div>
                                            </div>
                                            <div id="{{sectionField.name}}"> </div>
                                          </div>
                                          <div class="sm-12" *ngIf="(sectionField.type==='header')">
                            
                                            <div *ngIf="(sectionField.subtype==='h1')">
                                              <h1 [innerHtml]="sectionField.label"></h1>
                                            </div>
                                            <div *ngIf="(sectionField.subtype==='h2')">
                                              <h2 [innerHtml]="sectionField.label"></h2>
                                            </div>
                                            <div *ngIf="(sectionField.subtype==='h3')">
                                              <h3 [innerHtml]="sectionField.label"></h3>
                                            </div>
                            
                                          </div>
                                          <div *ngIf="(sectionField.type==='paragraph')">
                                            <p class="sm-12" [innerHtml]="sectionField.label"></p>
                                          </div>
                                          <div  class="form-group row" *ngIf="(sectionField.type==='newline')">
                                            <hr class="form-hr">
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='textarea')">
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                                                <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div *ngIf="(sectionField.subtype==='quill')" class="col-sm-10">
                                              <quill-editor [name]='sectionField.name' [(ngModel)]='sectionField.value' [required]="sectionField.required"
                                                [maxlength]="sectionField.maxlength" #quill="ngModel">
                                              </quill-editor>
                                              <div class="messages text-danger" *ngIf="(quill.touched || submitted) && quill.errors?.required">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                            
                                            <div *ngIf="(sectionField.subtype==='ckeditor')" class="col-sm-10">
                                                <ckeditor [config]="configOfCkEditior"      [name]="sectionField.name"   [required]="sectionField.required" [(ngModel)]="sectionField.value" #ckeditor="ngModel"   ></ckeditor>
                                                <div class="messages text-danger" *ngIf="(ckeditor.touched || submitted) && ckeditor.errors?.required">
                                                  <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                              </div>
                            
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='select')" >
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                                                <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <div class="container row">
                                                <select class="form-control col-sm-5" [required]="sectionField.required" [name]="sectionField.name" [(ngModel)]="sectionField.value" (change)="restValueOfOther(input);reference(input.childFields);"
                                                  #select="ngModel">
                                                  <option *ngFor='let optionList of sectionField.values' [value]="optionList.value">{{optionList.label}}
                                                  </option>
                                                  <option *ngIf="sectionField.other" value="govalOther">Other</option>
                                                </select>
                                              </div><br>
                                              <div *ngIf="sectionField.value=='govalOther'" class="container row">
                                                <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                                                <div class="col-sm-4">
                                                  <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                                    #selectOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" (blur)="reference(input.childFields)"/>
                                                  <div class="messages text-danger"
                                                    *ngIf="(selectOtherValue.touched || submitted) && selectOtherValue.errors?.required">
                                                    <label>Other Value can't be blank</label></div>
                                                </div>
                                              </div>
                                                <div   class="messages text-danger" *ngIf="sectionField.value!='govalOther'&&(select.touched || submitted) && select.errors?.required">
                                                <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='checkbox-group')">
                                            <b><label class="col-sm-12" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label><span
                                                  *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                                                  placement="top" [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-12">
                                              <div class="container row">
                                                <ng-container *ngFor="let cheboxvalue of sectionField.values">
                                                  <div class="col-sm-12">
                                                    <div class="checkbox-fade fade-in-primary">
                                                      <label>
                                                        <input type="checkbox" [name]="sectionField.name" [checked]="cheboxvalue.selected"
                                                          (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckedData(sectionField.values,input)">
                                                        <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                                        <span>{{cheboxvalue.label}}</span>
                                                      </label>
                                                    </div>
                                                  </div>
                                                </ng-container>
                                              </div>
                                              <div *ngIf="sectionField.other" class="container row ">
                                                <div class="col-sm-12">
                                                  <div class="checkbox-fade fade-in-primary">
                                                    <label>
                                                      <input type="checkbox" [name]="sectionField.name" [checked]="sectionField.otherSelected"
                                                        (change)="sectionField.otherSelected=!sectionField.otherSelected;restValueOfOther(input)">
                                                      <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                                      <span>Other</span>
                                                    </label>
                                                  </div>
                                                </div>
                                              </div>
                                              <div *ngIf="sectionField.otherSelected" class="container row">
                                                <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                                                <div class="col-sm-4">
                                                  <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                                    #checkBoxOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" />
                                                  <div class="messages text-danger"
                                                    *ngIf="(checkBoxOtherValue.touched || submitted) && checkBoxOtherValue.errors?.required">
                                                    <label>Other Value can't be blank</label></div>
                                                </div>
                                              </div>
                                              <div *ngIf="!sectionField.otherSelected && (submitted &&(sectionField.value===undefined||sectionField.value.length==0)&& sectionField.required)"
                                                class="messages text-danger"><label [innerHtml]="sectionField.label"></label> can't be blank</div>
                                            </div>
                                          </div>
                                          <div class="form-group row" *ngIf="(sectionField.type==='radio-group')">
                                            <b><label class="col-sm-12" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label> <span
                                                  *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                                                  placement="top" [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-12">
                                              <div class="form-radio" *ngFor="let radioButtonValue of sectionField.values">
                                                <form>
                                                  <div class="radio radiofill">
                                                    <label>
                                                      <input type="checkbox" [name]="sectionField.name" [checked]="radioButtonValue.selected"
                                                        (change)="setCheckedAsRadio(sectionField.values,$event,radioButtonValue.value,input)" />
                                                      <span class="cr"></span>
                                                      <i class="helper"></i>{{radioButtonValue.label}}
                                                    </label>
                                                  </div>
                                                </form>
                                              </div>
                                              <div class=" container row form-radio" *ngIf="sectionField.other">
                                                <form>
                                                  <div class="radio radiofill">
                                                    <label>
                                                      <input type="checkbox" [name]="sectionField.name" [checked]="sectionField.otherSelected"
                                                        (change)="setCheckedAsRadio(sectionField.values,$event,'govalOther',input)">
                                                      <span class="cr"></span><i class="helper"></i>
                                                      <span>Other</span>
                                                    </label>
                                                  </div>&nbsp;&nbsp;
                                                </form>
                                              </div>
                                              <div *ngIf="sectionField.otherSelected" class="container row">
                                                <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                                                <div class="col-sm-4">
                                                  <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                                    #radioOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" />
                                                  <div class="messages text-danger"
                                                    *ngIf="(radioOtherValue.touched || submitted) && radioOtherValue.errors?.required">
                                                    <label>Other Value can't be blank</label></div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <div *ngIf="(sectionField.type==='datetime-local')" class="form-group row">
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a>
                                                <button *ngIf="sectionField.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                                                  ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                                                </label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-3" [disabled]="sectionField.disabled" type="datetime-local" [name]='sectionField.label' [(ngModel)]='sectionField.value'
                                                [required]="sectionField.required" #dateTime="ngModel" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)">
                                              <div class="messages text-danger"
                                                *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid
                                                <label [innerHtml]="sectionField.label"></label></div>
                                            </div>
                                          </div>
                                          <div *ngIf="(sectionField.type==='time')" class="form-group row">
                                            <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                                  [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                                  class="asterisk">*</span>
                                                <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                                  class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                  [ngbTooltip]="sectionField.description">
                                                  <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                </a></label></b>
                                            <div class="col-sm-10">
                                              <input class="form-control col-sm-2" type="time" [disabled]="sectionField.disabled" [name]='sectionField.label' [(ngModel)]='sectionField.value'
                                                [required]="sectionField.required" #time="ngModel" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)">
                                              <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter
                                                valid
                                                <label [innerHtml]="sectionField.label"></label></div>
                                            </div>
                                          </div>
                                          <div class="table-responsive ">
                                              <app-card *ngIf="sectionField.type=='table'">
                                                <h1 style="text-align: center;" class="sm-12" [innerHtml]='sectionField.name'> </h1>
                                                <button *ngIf="!tableFixedColumnFlag" class="btn btn-primary" (click)="addRow(input)"><i class="icofont icofont-plus-circle">Add Row</i></button>
                                                <table id="tableIdDivRefresh" #tableIdDivRefresh class="table table-striped table-bordered ">
                                                  <thead>
                                                    <tr>
                                                      <th>#</th>
                                                      <ng-container *ngFor="let column of sectionField.columns">
                                                      <th *ngIf="column.type!='hidden'" > <label [innerHtml]='column.label'></label><span *ngIf="column.required!=undefined" class="asterisk">*</span>
                                                        <a *ngIf="column.description!=undefined" href="javascript:;"
                                                        class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                                        [ngbTooltip]="column.description">
                                                        <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                                      </a></th>
                                                    </ng-container>
                                                    </tr>
                                                  </thead>
                                                  <tbody *ngFor="let row of sectionField.rows ; let i = index" [attr.data-index]="i">
                            
                                                    <tr>
                                                      <td>
                                                        <label >{{i+1}}</label>
                                                          <input *ngIf="!sectionField.fixedRow" type="checkbox"  [name]='i'   placement="top" ngbTooltip="Delete" (change)="deleteRow($event,input,i);">
                            
                                                       </td>
                                                       <ng-container *ngFor="let column of sectionField.columns ; let j = index" [attr.data-index]="j">
                                                      <td  *ngIf="column.type!='hidden'">
                            
                                                          <label *ngIf="(column.subtype=='Text')">
                                                              <input type="text" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'  [minlength]="column.minlength" [ngStyle]="{'background-color': !row.row[j].color? 'transparent' : row.row[j].color}" 
                                                              [disabled]="column.disabled"   [required]="column.required" [maxlength]="column.maxlength"  #text="ngModel"  (ngModelChange)="conditionCheckForTableFull(sectionField.id,input.childFields,row.row)" >
                                                                <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                            </label>
                                                            <label *ngIf="(column.subtype=='Email')">
                                                              <input  type="email" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                                [pattern]="helper.email_pattern" #email="ngModel">
                                                                <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                                <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                                            </label>
                                                            <label *ngIf="(column.subtype=='Mobile')">
                                                              <input type="tel" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)" #mobile="ngModel">
                                                              <div class="messages text-danger" *ngIf="(mobile.touched || submitted) && mobile.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                                <div class="messages text-danger" *ngIf="mobile.errors?.pattern">Please enter a valid <label  [innerHtml]="column.label"></label></div>
                                                            </label>
                            
                                                            <label *ngIf="(column.type==='number')">
                                                              <input type="number" [disabled]="column.disabled" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #number="ngModel" (keypress)="onlyNumberWithDecimal($event,row.row[j].value)" 
                                                               (ngModelChange)="calculationOfTableValue(row.row,sectionField.id,input.childFields)"
                                                              [minlength]="column.minlength" [maxlength]="column.maxlength" [required]="column.required">
                                                              <div class="messages text-danger" *ngIf="(number.touched || submitted) && number.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                            </label>
                                                            <label *ngIf="(column.type==='date')">
                                                                <input type="date" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #date="ngModel" [required]="column.required">
                                                                <div class="messages text-danger" *ngIf="(date.touched || submitted) && date.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                              </label>
                                                            <label *ngIf="(column.type==='textarea')">
                                                              <textarea  [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #textarea="ngModel" [required]="column.required"></textarea>
                                                              <div class="messages text-danger" *ngIf="(textarea.touched || submitted) && textarea.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
                                                            </label>
                            
                                                            <div *ngIf="(column.type==='select')">
                                                              <label *ngIf="!column.multiple">
                                                               <select class="select-table"  [required]="column.required" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #select="ngModel">
                                                                 <option *ngFor='let optionList of column.values' [value]="optionList.value">{{optionList.label}}
                                                                 </option>
                                                               </select>
                                                               <div class="messages text-danger" *ngIf="(select.touched || submitted) && select.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
                            
                                                             </label>
                                                             <div  style="width: 400px;" *ngIf="column.multiple">
                                                              <textarea class="multiple-textarea" [rows]="(row.row[j].value.length/50)+1" [innerHtml]="row.row[j].value"></textarea>
                                                             </div>
                                                            </div>
                                                            <label *ngIf="(column.type==='checkbox-group')">
                                                              <div *ngFor="let cheboxvalue of row.row[j].values ; let lengthIndex=index;" >
                                                                  <label >
                                                                    <input type="checkbox" [name]='row.row[j].name'   [checked]="cheboxvalue.selected"
                                                                      (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckBoxValidation(row.row[j]);">
                                                                   {{cheboxvalue.label}}
                                                                  </label>
                                                                   <div  class="messages text-danger" *ngIf="(!row.row[j].checkBoxValidationFlag) && submitted && column.required && lengthIndex== (row.row[j].values.length-1)"> <label [for]="row.row[j].name" [innerHtml]="column.label"></label> can't be blank</div>
                                                              </div>
                            
                                                            </label>
                            
                                                            <label *ngIf="(column.type==='radio-group')">
                                                              <div *ngFor="let radioButtonValue of row.row[j].values">
                                                                  <label>
                                                                    <input class="default-radio" type="checkbox" [name]='row.row[j].name' [checked]="radioButtonValue.selected"
                                                                      (change)="setCheckedAsRadio(row.row[j].values,$event,radioButtonValue.value)">
                                                                   {{radioButtonValue.label}}
                                                                  </label>
                                                                </div>
                                                            </label>
                                                            <label *ngIf="(column.type==='datetime-local')">
                                                              <input  type="datetime-local" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                                [required]="column.required" #dateTime="ngModel">
                                                                <div class="messages text-danger" *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                            </label>
                                                            <label *ngIf="(column.type==='time')">
                                                              <input  type="time" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                                [required]="column.required" #time="ngModel">
                                                              <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                            </label>
                                                            <div class="form-group row" *ngIf="(column.type==='file')" >
                                                              <input style="margin-left: 1rem;" type="file" [name]='row.row[j].name' (change)="onFileUpload($event,row.row[j])" [multiple]="column.multiple"
                                                                [(ngModel)]='row.row[j].value' #file="ngModel">
                                                              <div class="messages text-danger"
                                                                *ngIf="(file.touched || submitted) && ( column.required && ( row.row[j].values == undefined|| row.row[j].values.length==0))">
                                                                <label [innerHtml]="column.label"></label> can't be blank</div>
                                                            <br><br>
                                                            <div class="col-form-label"  *ngIf='row.row[j].values!=undefined && row.row[j].values.length >0'>
                                                              <strong class="col-sm-12" *ngIf="(column.multiple)" >Uploaded Files</strong>
                                                              <strong class="col-sm-12" *ngIf="(!column.multiple)" >Uploaded File</strong>
                                                              <div class="dt-desc dy-ui">
                                                                <table class="table-striped table-bordered">
                                                                  <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                                                  <tbody>
                                                                  <tr *ngFor="let file of row.row[j].values ; let fileIndex=index ">
                                                                    <td>{{fileIndex+1}}</td>
                                                                    <td><label>{{file.fileName}}</label></td>
                                                                    <td><label>{{file.displayDate}}</label></td>
                            
                                                                    <td>
                                                                      <!-- <a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                                                      ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,sectionField.name)"></a>&nbsp;&nbsp; -->
                                                                      <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                                                       ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,row.row[j].name)"></a>&nbsp;&nbsp;
                                                                      <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                                                      ngbTooltip="delete" (click)="deleteUploadedFile(row.row[j].values,fileIndex,row.row[j].name)"></a>&nbsp;&nbsp;
                                                                    </td>
                                                                  </tr>
                                                                </tbody>
                                                                </table>
                                                              </div>
                                                            </div>
                                                        </div>
                                                      </td>
                                                    </ng-container>
                                                      <!-- <td>{{row.createdBy}}</td>
                                                      <td>{{row.createdTime | date:'dd-MM-yy HH:mm:ss ' }}</td> -->
                            
                                                    </tr>
                            
                                                  </tbody>
                                                </table>
                                                <br><br>
                                              </app-card>
                                            </div>
                                        </div>
                                      </div>
                                    </app-card>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.subtype==='Text')" >
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                          [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                          class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-5" [ngStyle]="{'background-color': !input.color? 'white' : input.color}" [disabled]="input.disabled" [type]='input.subtype' [name]='input.name' [(ngModel)]='input.value'
                                        [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength" (ngModelChange)="conditionCheckFull(inputField);" (blur)="reference(inputField)"
                                        #text="ngModel">
                                      <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required">
                                        <label [innerHtml]="input.label"></label> can't be blank</div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.subtype==='Email')" >
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                                        <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-5" [type]='input.subtype' [name]='input.name' [(ngModel)]='input.value'
                                        [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength"
                                        [pattern]="helper.email_pattern" #email="ngModel">
                                      <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required">
                                        <label [innerHtml]="input.label"></label> can't be blank</div>
                                      <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.subtype==='Mobile')" >
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                          [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                          class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-5" type="text" [name]='input.name' [(ngModel)]='input.value'
                                        [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength"
                                        #tel="ngModel" pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)">
                                      <div class="messages text-danger" *ngIf="(tel.touched || submitted) && tel.errors?.required">
                                        <label [innerHtml]="input.label"></label> can't be blank</div>
                                      <div class="messages text-danger" *ngIf="tel.errors?.pattern">Please enter a valid <label
                                          [innerHtml]="input.label"></label></div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf=" (input.type==='number')" >
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                          [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                          class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-3" [type]='input.type' [name]='input.name' [(ngModel)]='input.value' [disabled]="input.disabled"
                                        [minlength]="input.minlength" [maxlength]="input.maxlength" [required]="input.required"  (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)" (keypress)="onlyNumberWithDecimal($event,input.value)"
                                        #dateNumber="ngModel">
                                      <div class="messages text-danger"
                                        *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                                        <label [innerHtml]="input.label"></label></div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.type==='date')" >
                                      <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                            [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                            class="asterisk">*</span>
                                          <a *ngIf="input.description!=undefined" href="javascript:;"
                                            class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                            [ngbTooltip]="input.description">
                                            <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                          </a>
                                          <button *ngIf="input.addTask && formData.id !=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm,formData)"
                                          ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                                        </label></b>
                                      <div class="col-sm-10">
                                        <input class="form-control col-sm-3"  [disabled]="input.disabled" [type]='input.type' [name]='input.name' [(ngModel)]='input.value'
                                           [required]="input.required" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)"
                                          #dateNumber="ngModel">
                                        <div class="messages text-danger"
                                          *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                                          <label [innerHtml]="input.label"></label></div>
                                      </div>
                                    </div>
                                    <div class="form-group row" *ngIf="(input.type==='file')" >
                                      <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                            [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                            class="asterisk">*</span>
                                          <a *ngIf="input.description!=undefined" href="javascript:;"
                                            class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                            [ngbTooltip]="input.description">
                                            <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                          </a></label></b>
                                      <div *ngIf="(!input.multiple)"  class="col-sm-6">
                                        <input #fileuploaddiv [type]='input.type' [name]='input.name' (change)="onFileUpload($event,input,formData.formName)"
                                          [(ngModel)]='input.value' #file="ngModel">
                                        <div class="messages text-danger"
                                          *ngIf="(file.touched || submitted) && ( input.required && ( input.values == undefined|| input.values.length==0))">
                                          <label [innerHtml]="input.label"></label> can't be blank</div>
                                      </div>
                                      <div *ngIf="(input.multiple)"  class="col-sm-6">
                                        <div  class=" files color">
                                          <input #fileuploaddiv type="file" [name]='input.name' [(ngModel)]='input.value' (change)="onFileUpload($event,input,formData.formName)" multiple  #fileMultiple="ngModel">
                                        </div>
                                       <div class="messages text-danger"
                                          *ngIf="(fileMultiple.touched || submitted) && ( input.required && ( input.values == undefined|| input.values.length==0))">
                                          <label [innerHtml]="input.label"></label> can't be blank</div>
                                      </div>
                                      <br><br>
                                      <div class="col-form-label"  *ngIf='input.values!=undefined && input.values.length>0'>
                                        <strong class="col-sm-12" *ngIf="(input.multiple)" >Uploaded Files</strong>
                                        <strong class="col-sm-12" *ngIf="(!input.multiple)" >Uploaded File</strong>
                                        <div class="dt-desc dy-ui">
                                          <table class="table-striped table-bordered">
                                            <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                            <tbody>
                                            <tr *ngFor="let file of input.values ; let fileIndex=index ">
                                              <td>{{fileIndex+1}}</td>
                                              <td><label>{{file.fileName}}</label></td>
                                              <td><label>{{file.displayDate}}</label></td>

                                              <td><a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                                ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,input.name)"></a>&nbsp;&nbsp;
                                                <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                                 ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,input.name)"></a>&nbsp;&nbsp;
                                                <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                                ngbTooltip="delete" (click)="deleteUploadedFile(input.values,fileIndex,input.name)"></a>&nbsp;&nbsp;
                                              </td>
                                            </tr>
                                          </tbody>
                                          </table>
                                        </div>
                                      </div>
                                      <div id="{{input.name}}"> </div>
                                  </div>
                                  <div class="sm-12" *ngIf="(input.type==='header')">

                                    <div *ngIf="(input.subtype==='h1')">
                                      <h1 [innerHtml]="input.label"></h1>
                                    </div>
                                    <div *ngIf="(input.subtype==='h2')">
                                      <h2 [innerHtml]="input.label"></h2>
                                    </div>
                                    <div *ngIf="(input.subtype==='h3')">
                                      <h3 [innerHtml]="input.label"></h3>
                                    </div>

                                  </div>
                                  <div *ngIf="(input.type==='paragraph')">
                                    <p class="sm-12" [innerHtml]="input.label"></p>
                                  </div>
                                  <div *ngIf="(input.type==='newline')">
                                    <hr class="form-hr">
                                  </div>
                                  <div class="form-group row" *ngIf="(input.type==='textarea')">
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                                        <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div *ngIf="(input.subtype==='quill')" class="col-sm-10">
                                      <quill-editor [name]='input.name' [(ngModel)]='input.value' [required]="input.required"
                                        [maxlength]="input.maxlength" #quill="ngModel">
                                      </quill-editor>
                                      <div class="messages text-danger" *ngIf="(quill.touched || submitted) && quill.errors?.required">
                                        <label [innerHtml]="input.label"></label> can't be blank</div>
                                    </div>

                                    <div *ngIf="(input.subtype==='ckeditor')" class="col-sm-10">
                                        <ckeditor [config]="configOfCkEditior"      [name]="input.name"   [required]="input.required" [(ngModel)]="input.value" #ckeditor="ngModel"   ></ckeditor>
                                        <div class="messages text-danger" *ngIf="(ckeditor.touched || submitted) && ckeditor.errors?.required">
                                          <label [innerHtml]="input.label"></label> can't be blank</div>
                                      </div>

                                  </div>
                                  <div class="form-group row" *ngIf="(input.type==='select')" >
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                                        <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <div class="container row">
                                        <select class="form-control col-sm-5" [required]="input.required" [name]="input.name" [(ngModel)]="input.value" (change)="restValueOfOther(input);reference(inputField);"
                                          #select="ngModel">
                                          <option *ngFor='let optionList of input.values' [value]="optionList.value">{{optionList.label}}
                                          </option>
                                          <option *ngIf="input.other" value="govalOther">Other</option>
                                        </select>
                                      </div><br>
                                      <div *ngIf="input.value=='govalOther'" class="container row">
                                        <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                                        <div class="col-sm-4">
                                          <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                                            #selectOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" (blur)="reference(inputField)"/>
                                          <div class="messages text-danger"
                                            *ngIf="(selectOtherValue.touched || submitted) && selectOtherValue.errors?.required">
                                            <label>Other Value can't be blank</label></div>
                                        </div>
                                      </div>
                                        <div   class="messages text-danger" *ngIf="input.value!='govalOther'&&(select.touched || submitted) && select.errors?.required">
                                        <label [innerHtml]="input.label"></label> can't be blank</div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.type==='checkbox-group')">
                                    <b><label class="col-sm-12" [for]='input.name'><label [innerHtml]="input.label"></label><span
                                          *ngIf="input.required!=undefined" class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                                          placement="top" [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-12">
                                      <div class="container row">
                                        <ng-container *ngFor="let cheboxvalue of input.values">
                                          <div class="col-sm-12">
                                            <div class="checkbox-fade fade-in-primary">
                                              <label>
                                                <input type="checkbox" [name]="input.name" [checked]="cheboxvalue.selected"
                                                  (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckedData(input.values,input)">
                                                <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                                <span>{{cheboxvalue.label}}</span>
                                              </label>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </div>
                                      <div *ngIf="input.other" class="container row ">
                                        <div class="col-sm-12">
                                          <div class="checkbox-fade fade-in-primary">
                                            <label>
                                              <input type="checkbox" [name]="input.name" [checked]="input.otherSelected"
                                                (change)="input.otherSelected=!input.otherSelected;restValueOfOther(input)">
                                              <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                              <span>Other</span>
                                            </label>
                                          </div>
                                        </div>
                                      </div>
                                      <div *ngIf="input.otherSelected" class="container row">
                                        <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                                        <div class="col-sm-4">
                                          <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                                            #checkBoxOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" />
                                          <div class="messages text-danger"
                                            *ngIf="(checkBoxOtherValue.touched || submitted) && checkBoxOtherValue.errors?.required">
                                            <label>Other Value can't be blank</label></div>
                                        </div>
                                      </div>
                                      <div *ngIf="!input.otherSelected && (submitted &&(input.value===undefined||input.value.length==0)&& input.required)"
                                        class="messages text-danger"><label [innerHtml]="input.label"></label> can't be blank</div>
                                    </div>
                                  </div>
                                  <div class="form-group row" *ngIf="(input.type==='radio-group')">
                                    <b><label class="col-sm-12" [for]='input.name'><label [innerHtml]="input.label"></label> <span
                                          *ngIf="input.required!=undefined" class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                                          placement="top" [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-12">
                                      <div class="form-radio" *ngFor="let radioButtonValue of input.values">
                                        <form>
                                          <div class="radio radiofill">
                                            <label>
                                              <input type="checkbox" [name]="input.name" [checked]="radioButtonValue.selected"
                                                (change)="setCheckedAsRadio(input.values,$event,radioButtonValue.value,input)" />
                                              <span class="cr"></span>
                                              <i class="helper"></i>{{radioButtonValue.label}}
                                            </label>
                                          </div>
                                        </form>
                                      </div>
                                      <div class=" container row form-radio" *ngIf="input.other">
                                        <form>
                                          <div class="radio radiofill">
                                            <label>
                                              <input type="checkbox" [name]="input.name" [checked]="input.otherSelected"
                                                (change)="setCheckedAsRadio(input.values,$event,'govalOther',input)">
                                              <span class="cr"></span><i class="helper"></i>
                                              <span>Other</span>
                                            </label>
                                          </div>&nbsp;&nbsp;
                                        </form>
                                      </div>
                                      <div *ngIf="input.otherSelected" class="container row">
                                        <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                                        <div class="col-sm-4">
                                          <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                                            #radioOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" />
                                          <div class="messages text-danger"
                                            *ngIf="(radioOtherValue.touched || submitted) && radioOtherValue.errors?.required">
                                            <label>Other Value can't be blank</label></div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div *ngIf="(input.type==='datetime-local')" class="form-group row">
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                          [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                          class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a>
                                        <button *ngIf="input.addTask && formData.id !=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm,formData)"
                                        ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                                      </label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-3" [disabled]="input.disabled" type="datetime-local" [name]='input.label' [(ngModel)]='input.value'
                                        [required]="input.required" #dateTime="ngModel" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)">
                                      <div class="messages text-danger"
                                        *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid
                                        <label [innerHtml]="input.label"></label></div>
                                    </div>
                                  </div>
                                  <div *ngIf="(input.type==='time')" class="form-group row">
                                    <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                                          [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                                          class="asterisk">*</span>
                                        <a *ngIf="input.description!=undefined" href="javascript:;"
                                          class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                          [ngbTooltip]="input.description">
                                          <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                        </a></label></b>
                                    <div class="col-sm-10">
                                      <input class="form-control col-sm-2" type="time" [disabled]="input.disabled" [name]='input.label' [(ngModel)]='input.value'
                                        [required]="input.required" #time="ngModel" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)">
                                      <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter
                                        valid
                                        <label [innerHtml]="input.label"></label></div>
                                    </div>
                                  </div>
                                  <div class="table-responsive ">
                                    <app-card *ngIf="input.type=='table'">
                                      <h1 style="text-align: center;" class="sm-12" [innerHtml]='input.name'> </h1>
                                      <button  class="btn btn-primary" (click)="addRow(input)"><i class="icofont icofont-plus-circle">Add Row</i></button>
                                      <table id="tableIdDivRefresh" #tableIdDivRefresh class="table table-striped table-bordered ">
                                        <thead>
                                          <tr>
                                            <th>#</th>  
                                            <ng-container *ngFor="let column of input.columns">
                                              <th *ngIf="column.type!='hidden'"> <label [innerHtml]='column.label'></label><span *ngIf="column.required!=undefined" class="asterisk">*</span>
                                              <a *ngIf="column.description!=undefined" href="javascript:;"
                                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                              [ngbTooltip]="column.description">
                                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                            </a></th>
                                            </ng-container>
                                            <!-- <th>Created By</th>
                                            <th>Created Time</th> -->
                                          </tr>
                                        </thead>
                                        <tbody *ngFor="let row of input.rows ; let i = index" [attr.data-index]="i">

                                          <tr>
                                            <td>
                                                <label >{{i+1}}</label>
                                                <input *ngIf="!input.fixedRow" type="checkbox"  [name]='i'   placement="top" ngbTooltip="Delete" (change)="deleteRow($event,input,i);">

                                             </td>
                                             <ng-container *ngFor="let column of input.columns ; let j = index" [attr.data-index]="j">
                                              <td  *ngIf="column.type!='hidden'" >

                                                <label *ngIf="(column.subtype=='Text')">
                                                    <input type="text" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'  [minlength]="column.minlength" [disabled]="column.disabled"
                                                      [required]="column.required" [maxlength]="column.maxlength"  #text="ngModel" [ngStyle]="{'background-color': !row.row[j].color? 'transparent' : row.row[j].color}"
                                                      (ngModelChange)="conditionCheckForTableFull(input.id,inputField,row.row)" >
                                                      <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                  </label>
                                                  <label *ngIf="(column.subtype=='Email')">
                                                    <input  type="email" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                      [pattern]="helper.email_pattern" #email="ngModel">
                                                      <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                      <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                                  </label>
                                                  <label *ngIf="(column.subtype=='Mobile')">
                                                    <input type="tel" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)" #mobile="ngModel">
                                                    <div class="messages text-danger" *ngIf="(mobile.touched || submitted) && mobile.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                                      <div class="messages text-danger" *ngIf="mobile.errors?.pattern">Please enter a valid <label  [innerHtml]="column.label"></label></div>
                                                  </label>

                                                  <label *ngIf="(column.type==='number')">
                                                    <input type="number" [disabled]="column.disabled" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #number="ngModel" (keypress)="onlyNumberWithDecimal($event,row.row[j].value)" 
                                                    (ngModelChange)="calculationOfTableValue(row.row,input.id,inputField)"
                                                    [minlength]="column.minlength" [maxlength]="column.maxlength" [required]="column.required">
                                                    <div class="messages text-danger" *ngIf="(number.touched || submitted) && number.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                  </label>
                                                  <label *ngIf="(column.type==='date')">
                                                      <input type="date" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #date="ngModel" [required]="column.required">
                                                      <div class="messages text-danger" *ngIf="(date.touched || submitted) && date.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                    </label>
                                                  <label *ngIf="(column.type==='textarea')">
                                                    <textarea  [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #textarea="ngModel" [required]="column.required"></textarea>
                                                    <div class="messages text-danger" *ngIf="(textarea.touched || submitted) && textarea.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
                                                  </label>

                                                  <div *ngIf="(column.type==='select')">
                                                    <label *ngIf="!column.multiple">
                                                     <select class="select-table"  [required]="column.required" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #select="ngModel">
                                                       <option *ngFor='let optionList of column.values' [value]="optionList.value">{{optionList.label}}
                                                       </option>
                                                     </select>
                                                     <div class="messages text-danger" *ngIf="(select.touched || submitted) && select.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>

                                                   </label>
                                                   <div  style="width: 400px;"  *ngIf="column.multiple">
                                                     <textarea class="multiple-textarea" [rows]="(row.row[j].value.length/50)+1" [innerHtml]="row.row[j].value"></textarea>

                                                  </div>
                                                  </div>
                                                  <label *ngIf="(column.type==='checkbox-group')">
                                                    <div *ngFor="let cheboxvalue of row.row[j].values ; let lengthIndex=index;" >
                                                        <label >
                                                          <input type="checkbox" [name]='row.row[j].name'   [checked]="cheboxvalue.selected"
                                                            (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckBoxValidation(row.row[j]);">
                                                         {{cheboxvalue.label}}
                                                        </label>
                                                         <div  class="messages text-danger" *ngIf="(!row.row[j].checkBoxValidationFlag) && submitted && column.required && lengthIndex== (row.row[j].values.length-1)"> <label [for]="row.row[j].name" [innerHtml]="column.label"></label> can't be blank</div>
                                                    </div>

                                                  </label>

                                                  <label *ngIf="(column.type==='radio-group')">
                                                    <div *ngFor="let radioButtonValue of row.row[j].values">
                                                        <label>
                                                          <input class="default-radio" type="checkbox" [name]='row.row[j].name' [checked]="radioButtonValue.selected"
                                                            (change)="setCheckedAsRadio(row.row[j].values,$event,radioButtonValue.value)">
                                                         {{radioButtonValue.label}}
                                                        </label>
                                                      </div>
                                                  </label>
                                                  <label *ngIf="(column.type==='datetime-local')">
                                                    <input  type="datetime-local" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                      [required]="column.required" #dateTime="ngModel">
                                                      <div class="messages text-danger" *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                  </label>
                                                  <label *ngIf="(column.type==='time')">
                                                    <input  type="time" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                                      [required]="column.required" #time="ngModel">
                                                    <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                                  </label>

                                                  <div class="form-group row" *ngIf="(column.type==='file')" >
                                                      <input style="margin-left: 1rem;" type="file" [name]='row.row[j].name' (change)="onFileUpload($event,row.row[j],formData.formName)" [multiple]="column.multiple"
                                                        [(ngModel)]='row.row[j].value' #file="ngModel">
                                                      <div class="messages text-danger"
                                                        *ngIf="(file.touched || submitted) && ( column.required && ( row.row[j].values == undefined|| row.row[j].values.length==0))">
                                                        <label [innerHtml]="column.label"></label> can't be blank {{input.values}}</div>
                                                    <br><br>
                                                    <div class="col-form-label"  *ngIf='row.row[j].values!=undefined && row.row[j].values.length >0'>
                                                      <strong class="col-sm-12" *ngIf="(column.multiple)" >Uploaded Files</strong>
                                                      <strong class="col-sm-12" *ngIf="(!column.multiple)" >Uploaded File</strong>
                                                      <div class="dt-desc dy-ui">
                                                        <table class="table-striped table-bordered">
                                                          <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                                          <tbody>
                                                          <tr *ngFor="let file of row.row[j].values ; let fileIndex=index ">
                                                            <td>{{fileIndex+1}}</td>
                                                            <td><label>{{file.fileName}}</label></td>
                                                            <td><label>{{file.displayDate}}</label></td>

                                                            <td>
                                                              <!-- <a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                                              ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,input.name)"></a>&nbsp;&nbsp; -->
                                                              <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                                               ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,row.row[j].name)"></a>&nbsp;&nbsp;
                                                              <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                                              ngbTooltip="delete" (click)="deleteUploadedFile(row.row[j].values,fileIndex,row.row[j].name)"></a>&nbsp;&nbsp;
                                                            </td>
                                                          </tr>
                                                        </tbody>
                                                        </table>
                                                      </div>
                                                    </div>
                                                </div>



                                            </td>
                                            </ng-container>
                                            <!-- <td>{{row.createdBy}}</td>
                                            <td>{{row.createdTime | date:'dd-MM-yy HH:mm:ss ' }}</td> -->

                                          </tr>

                                        </tbody>
                                      </table>
                                      <br><br>
                                    </app-card>
                                  </div>
                                </div>
                                </div>
                                <!-- <div class="col-sm-12" style="text-align: center;">
                                  <button *ngIf=" isEquipmentStatus && formData.id==0 && !this.formData.publishedflag"
                                    type="button" class="btn btn-success"
                                    (click)="$event.preventDefault();saveDynamicFormData(formId.valid,false,formData);"><i
                                      class="icofont icofont-papers"></i>Save</button>

                                  <button *ngIf=" !isEquipmentStatus && formData.id==0 && !this.formData.publishedflag"
                                    type="button" class="btn btn-success" [disabled]="!permissionModel.createButtonFlag"
                                    (click)="$event.preventDefault();saveDynamicFormData(formId.valid,false,formData);"><i
                                      class="icofont icofont-papers"></i>Save</button>

                                 <button *ngIf="formData.id!=0 && !this.formData.publishedflag && isWorkflowDocumentOrderSequence && (!this.dynamicForm.workFlowSequenceFlag || formData.previousFormWrokFlowCompletionFlag)" type="button" class="btn btn-outline-success btn-success btn-round"
                                    [disabled]="!this.permissionModel.publishButtonFlag" (click)="saveDynamicFormData(formId.valid,true,formData);"><i
                                      class="icofont icofont-paper-plane"></i>Publish</button>

                                  <button *ngIf=" formData.id!=0 && !this.formData.publishedflag" type="button"
                                    class="btn btn-success" [disabled]="!permissionModel.updateButtonFlag"
                                    (click)="$event.preventDefault();saveReasonForEdit(formId.valid,formData);"><i
                                      class="icofont icofont-papers"></i>Update</button>
                                  <button *ngIf=" formData.id!=0 && !this.formData.publishedflag && permissionModel.workFlowButtonFlag" type="button"
                                    class="btn btn-success" (click)="verify(formData.permissionUniqueConstant,this.dynamicForm.dynamicFormCode,formData.id);">
                                    <i class="icofont icofont-papers"></i>Verify</button>
                                  <button *ngIf=" formData.id!=0 && !this.formData.publishedflag && permissionModel.deleteButtonFlag" type="button"
                                    class="btn btn-warning" (click)="dynamicForm.id=formData.id;deleteTemplateSwal(dynamicForm);"><i
                                      class="icofont icofont-bin"></i>Delete</button>

                                  <button type="button" class="btn btn-danger" (click)="navigateDestination()"><i
                                      class="icofont icofont-close"></i>Cancel</button>



                                </div> -->
                              </form>
                              <br><br>
                            </div>
                          </div>
                          <app-document-forum *ngIf="formData.id!=0 && !dynamicForm.multipleEntry"></app-document-forum>
                        </app-card>

                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        </ngb-tabset>
</div>
<div *ngIf="!this.isMapping"  class="row">
  <div class="col-sm-12">
    <app-card [title]="''" [classHeader]="true" [blockClass]="'table-border-style'">
      <div class="row-sm-8">
        <div class="col-sm-12">
          <form #formId="ngForm" style="background: white !important;border: none;"    class="well well-lg">
            <div class="row">
            <div [ngClass]="isColumnsRequired(input)?'col-sm-12':'col-sm-6'" *ngFor='let input of inputField'>
              <div *ngIf="(input.type==='section')">
                <app-card>
                  <div class="row">
                    <div class="col-sm-6">
                      <h4>{{input.label}}</h4>
                    </div>
                    <div class="col-sm-6" style="text-align: right;">
                      <a container="body" *ngIf="!input.viewSectionFlag" href="javascript:;"
                        (click)="input.viewSectionFlag = !input.viewSectionFlag"
                        class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Expand"
                        (click)="loadTaskData();"><i style="font-size: 25px;color: black;"
                          class="icofont icofont-circled-down"></i>
                      </a>
                      <a container="body" *ngIf="input.viewSectionFlag" href="javascript:;"
                        (click)="input.viewSectionFlag = !input.viewSectionFlag"
                        class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Hide"><i
                          style="font-size: 25px;color: black;" class="icofont icofont-circled-up"></i>
                      </a>
                    </div>
                  </div>
                  <div *ngIf="input.viewSectionFlag" class="row">
                    <div [ngClass]="isColumnsRequired(sectionField)?'col-sm-12':'col-sm-6'" *ngFor='let sectionField of input.childFields'>
                      <div class="form-group row" *ngIf="(sectionField.subtype==='Text')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-5" [ngStyle]="{'background-color': !sectionField.color? 'white' : sectionField.color}" [disabled]="sectionField.disabled" [type]='sectionField.subtype' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                            [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength" (ngModelChange)="conditionCheckFull(input.childFields);" (blur)="reference(input.childFields)"
                            #text="ngModel">
                          <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.subtype==='Email')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                            <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-5" [type]='sectionField.subtype' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                            [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength"
                            [pattern]="helper.email_pattern" #email="ngModel">
                          <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                          <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.subtype==='Mobile')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-5" type="text" [name]='sectionField.name' [(ngModel)]='sectionField.value'
                            [minlength]="sectionField.minlength" [required]="sectionField.required" [maxlength]="sectionField.maxlength"
                            #tel="ngModel" pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)">
                          <div class="messages text-danger" *ngIf="(tel.touched || submitted) && tel.errors?.required">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                          <div class="messages text-danger" *ngIf="tel.errors?.pattern">Please enter a valid <label
                              [innerHtml]="sectionField.label"></label></div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf=" (sectionField.type==='number')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-3" [type]='sectionField.type' [name]='sectionField.name' [(ngModel)]='sectionField.value' [disabled]="sectionField.disabled"
                            [minlength]="sectionField.minlength" [maxlength]="sectionField.maxlength" [required]="sectionField.required"  (ngModelChange)="calculation(input.childFields);" (blur)="reference(input.childFields)" (keypress)="onlyNumberWithDecimal($event,sectionField.value)"
                            #dateNumber="ngModel">
                          <div class="messages text-danger"
                            *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                            <label [innerHtml]="sectionField.label"></label></div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='date')" >
                          <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                                [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                                class="asterisk">*</span>
                              <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                                class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                [ngbTooltip]="sectionField.description">
                                <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                               </a>
                              <button *ngIf="sectionField.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                              ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                            </label></b>
                          <div class="col-sm-10">
                            <input class="form-control col-sm-3"  [disabled]="sectionField.disabled" [type]='sectionField.type' [name]='sectionField.name' [(ngModel)]='sectionField.value'
                               [required]="sectionField.required" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)"
                              #dateNumber="ngModel">
                            <div class="messages text-danger"
                              *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                              <label [innerHtml]="sectionField.label"></label></div>
                          </div>
                        </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='file')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div *ngIf="(!sectionField.multiple)"  class="col-sm-6">
                          <input [type]='sectionField.type' [name]='sectionField.name' (change)="onFileUpload($event,input)"
                            [(ngModel)]='sectionField.value' #file="ngModel">
                          <div class="messages text-danger"
                            *ngIf="(file.touched || submitted) && ( sectionField.required && ( sectionField.values == undefined|| sectionField.values.length==0))">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
                        <div *ngIf="(sectionField.multiple)"  class="col-sm-6">
                          <div  class=" files color">
                            <input type="file" [name]='sectionField.name' [(ngModel)]='sectionField.value' (change)="onFileUpload($event,input)" multiple  #fileMultiple="ngModel">
                          </div>
                         <div class="messages text-danger"
                            *ngIf="(fileMultiple.touched || submitted) && ( sectionField.required && ( sectionField.values == undefined|| sectionField.values.length==0))">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
                        <br><br>
                        <div class="col-form-label"  *ngIf='sectionField.values!=undefined && sectionField.values.length>0'>
                          <strong class="col-sm-12" *ngIf="(sectionField.multiple)" >Uploaded Files</strong>
                          <strong class="col-sm-12" *ngIf="(!sectionField.multiple)" >Uploaded File</strong>
                          <div class="dt-desc dy-ui">
                            <table class="table-striped table-bordered">
                              <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                              <tbody>
                              <tr *ngFor="let file of sectionField.values ; let fileIndex=index ">
                                <td>{{fileIndex+1}}</td>
                                <td><label>{{file.fileName}}</label></td>
                                <td><label>{{file.displayDate}}</label></td>
        
                                <td><a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                  ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,sectionField.name)"></a>&nbsp;&nbsp;
                                  <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                   ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,sectionField.name)"></a>&nbsp;&nbsp;
                                  <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                  ngbTooltip="delete" (click)="deleteUploadedFile(sectionField.values,fileIndex,sectionField.name)"></a>&nbsp;&nbsp;
                                </td>
                              </tr>
                            </tbody>
                            </table>
                          </div>
                        </div>
                        <div id="{{sectionField.name}}"> </div>
                      </div>
                      <div class="sm-12" *ngIf="(sectionField.type==='header')">
        
                        <div *ngIf="(sectionField.subtype==='h1')">
                          <h1 [innerHtml]="sectionField.label"></h1>
                        </div>
                        <div *ngIf="(sectionField.subtype==='h2')">
                          <h2 [innerHtml]="sectionField.label"></h2>
                        </div>
                        <div *ngIf="(sectionField.subtype==='h3')">
                          <h3 [innerHtml]="sectionField.label"></h3>
                        </div>
        
                      </div>
                      <div *ngIf="(sectionField.type==='paragraph')">
                        <p class="sm-12" [innerHtml]="sectionField.label"></p>
                      </div>
                      <div  class="form-group row" *ngIf="(sectionField.type==='newline')">
                        <hr class="form-hr">
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='textarea')">
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                            <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div *ngIf="(sectionField.subtype==='quill')" class="col-sm-10">
                          <quill-editor [name]='sectionField.name' [(ngModel)]='sectionField.value' [required]="sectionField.required"
                            [maxlength]="sectionField.maxlength" #quill="ngModel">
                          </quill-editor>
                          <div class="messages text-danger" *ngIf="(quill.touched || submitted) && quill.errors?.required">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
        
                        <div *ngIf="(sectionField.subtype==='ckeditor')" class="col-sm-10">
                            <ckeditor [config]="configOfCkEditior"      [name]="sectionField.name"   [required]="sectionField.required" [(ngModel)]="sectionField.value" #ckeditor="ngModel"   ></ckeditor>
                            <div class="messages text-danger" *ngIf="(ckeditor.touched || submitted) && ckeditor.errors?.required">
                              <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                          </div>
        
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='select')" >
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label>
                            <span *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <div class="container row">
                            <select class="form-control col-sm-5" [required]="sectionField.required" [name]="sectionField.name" [(ngModel)]="sectionField.value" (change)="restValueOfOther(input);reference(input.childFields);"
                              #select="ngModel">
                              <option *ngFor='let optionList of sectionField.values' [value]="optionList.value">{{optionList.label}}
                              </option>
                              <option *ngIf="sectionField.other" value="govalOther">Other</option>
                            </select>
                          </div><br>
                          <div *ngIf="sectionField.value=='govalOther'" class="container row">
                            <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                            <div class="col-sm-4">
                              <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                #selectOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" (blur)="reference(input.childFields)"/>
                              <div class="messages text-danger"
                                *ngIf="(selectOtherValue.touched || submitted) && selectOtherValue.errors?.required">
                                <label>Other Value can't be blank</label></div>
                            </div>
                          </div>
                            <div   class="messages text-danger" *ngIf="sectionField.value!='govalOther'&&(select.touched || submitted) && select.errors?.required">
                            <label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='checkbox-group')">
                        <b><label class="col-sm-12" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label><span
                              *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                              placement="top" [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-12">
                          <div class="container row">
                            <ng-container *ngFor="let cheboxvalue of sectionField.values">
                              <div class="col-sm-12">
                                <div class="checkbox-fade fade-in-primary">
                                  <label>
                                    <input type="checkbox" [name]="sectionField.name" [checked]="cheboxvalue.selected"
                                      (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckedData(sectionField.values,input)">
                                    <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                    <span>{{cheboxvalue.label}}</span>
                                  </label>
                                </div>
                              </div>
                            </ng-container>
                          </div>
                          <div *ngIf="sectionField.other" class="container row ">
                            <div class="col-sm-12">
                              <div class="checkbox-fade fade-in-primary">
                                <label>
                                  <input type="checkbox" [name]="sectionField.name" [checked]="sectionField.otherSelected"
                                    (change)="sectionField.otherSelected=!sectionField.otherSelected;restValueOfOther(input)">
                                  <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                                  <span>Other</span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div *ngIf="sectionField.otherSelected" class="container row">
                            <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                            <div class="col-sm-4">
                              <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                #checkBoxOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" />
                              <div class="messages text-danger"
                                *ngIf="(checkBoxOtherValue.touched || submitted) && checkBoxOtherValue.errors?.required">
                                <label>Other Value can't be blank</label></div>
                            </div>
                          </div>
                          <div *ngIf="!sectionField.otherSelected && (submitted &&(sectionField.value===undefined||sectionField.value.length==0)&& sectionField.required)"
                            class="messages text-danger"><label [innerHtml]="sectionField.label"></label> can't be blank</div>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="(sectionField.type==='radio-group')">
                        <b><label class="col-sm-12" [for]='sectionField.name'><label [innerHtml]="sectionField.label"></label> <span
                              *ngIf="sectionField.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                              placement="top" [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-12">
                          <div class="form-radio" *ngFor="let radioButtonValue of sectionField.values">
                            <form>
                              <div class="radio radiofill">
                                <label>
                                  <input type="checkbox" [name]="sectionField.name" [checked]="radioButtonValue.selected"
                                    (change)="setCheckedAsRadio(sectionField.values,$event,radioButtonValue.value,input)" />
                                  <span class="cr"></span>
                                  <i class="helper"></i>{{radioButtonValue.label}}
                                </label>
                              </div>
                            </form>
                          </div>
                          <div class=" container row form-radio" *ngIf="sectionField.other">
                            <form>
                              <div class="radio radiofill">
                                <label>
                                  <input type="checkbox" [name]="sectionField.name" [checked]="sectionField.otherSelected"
                                    (change)="setCheckedAsRadio(sectionField.values,$event,'govalOther',input)">
                                  <span class="cr"></span><i class="helper"></i>
                                  <span>Other</span>
                                </label>
                              </div>&nbsp;&nbsp;
                            </form>
                          </div>
                          <div *ngIf="sectionField.otherSelected" class="container row">
                            <label class="col-sm-2" for="OtherId-{{sectionField.name}}">Other Value</label>
                            <div class="col-sm-4">
                              <input id="OtherId-{{sectionField.name}}" class="form-control " [(ngModel)]="sectionField.otherValue" required
                                #radioOtherValue="ngModel" type="text" name="Other-{{sectionField.name}}" placeholder="Value" />
                              <div class="messages text-danger"
                                *ngIf="(radioOtherValue.touched || submitted) && radioOtherValue.errors?.required">
                                <label>Other Value can't be blank</label></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="(sectionField.type==='datetime-local')" class="form-group row">
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a>
                            <button *ngIf="sectionField.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                              ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                            </label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-3" [disabled]="sectionField.disabled" type="datetime-local" [name]='sectionField.label' [(ngModel)]='sectionField.value'
                            [required]="sectionField.required" #dateTime="ngModel" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)">
                          <div class="messages text-danger"
                            *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid
                            <label [innerHtml]="sectionField.label"></label></div>
                        </div>
                      </div>
                      <div *ngIf="(sectionField.type==='time')" class="form-group row">
                        <b><label class="col-sm-12 col-form-label" [for]='sectionField.name'><label
                              [innerHtml]="sectionField.label"></label><span *ngIf="sectionField.required!=undefined"
                              class="asterisk">*</span>
                            <a *ngIf="sectionField.description!=undefined" href="javascript:;"
                              class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                              [ngbTooltip]="sectionField.description">
                              <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                            </a></label></b>
                        <div class="col-sm-10">
                          <input class="form-control col-sm-2" type="time" [disabled]="sectionField.disabled" [name]='sectionField.label' [(ngModel)]='sectionField.value'
                            [required]="sectionField.required" #time="ngModel" (ngModelChange)="calculation(input.childFields)" (blur)="reference(input.childFields)">
                          <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter
                            valid
                            <label [innerHtml]="sectionField.label"></label></div>
                        </div>
                      </div>
                      <div class="table-responsive ">
                          <app-card *ngIf="sectionField.type=='table'">
                            <h1 style="text-align: center;" class="sm-12" [innerHtml]='sectionField.name'> </h1>
                            <button *ngIf="!tableFixedColumnFlag" class="btn btn-primary" (click)="addRow(sectionField)"><i class="icofont icofont-plus-circle">Add Row</i></button>
                            <table id="tableIdDivRefresh" #tableIdDivRefresh class="table table-striped table-bordered ">
                              <thead>
                                <tr>
                                  <th>#</th>
                                  <ng-container *ngFor="let column of sectionField.columns">
                                  <th *ngIf="column.type!='hidden'" > <label [innerHtml]='column.label'></label><span *ngIf="column.required!=undefined" class="asterisk">*</span>
                                    <a *ngIf="column.description!=undefined" href="javascript:;"
                                    class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                                    [ngbTooltip]="column.description">
                                    <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                                  </a></th>
                                </ng-container>
                                </tr>
                              </thead>
                              <tbody *ngFor="let row of sectionField.rows ; let i = index" [attr.data-index]="i">
        
                                <tr>
                                  <td>
                                    <label >{{i+1}}</label>
                                      <input *ngIf="!sectionField.fixedRow" type="checkbox"  [name]='i'   placement="top" ngbTooltip="Delete" (change)="deleteRow($event,input,i);">
        
                                   </td>
                                   <ng-container *ngFor="let column of sectionField.columns ; let j = index" [attr.data-index]="j">
                                  <td  *ngIf="column.type!='hidden'">
        
                                      <label *ngIf="(column.subtype=='Text')">
                                          <input type="text" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'  [minlength]="column.minlength" [ngStyle]="{'background-color': !row.row[j].color? 'transparent' : row.row[j].color}" 
                                          [disabled]="column.disabled"   [required]="column.required" [maxlength]="column.maxlength"  #text="ngModel"  (ngModelChange)="conditionCheckForTableFull(sectionField.id,input.childFields,row.row)" >
                                            <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                        </label>
                                        <label *ngIf="(column.subtype=='Email')">
                                          <input  type="email" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                            [pattern]="helper.email_pattern" #email="ngModel">
                                            <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                            <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                        </label>
                                        <label *ngIf="(column.subtype=='Mobile')">
                                          <input type="tel" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)" #mobile="ngModel">
                                          <div class="messages text-danger" *ngIf="(mobile.touched || submitted) && mobile.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                            <div class="messages text-danger" *ngIf="mobile.errors?.pattern">Please enter a valid <label  [innerHtml]="column.label"></label></div>
                                        </label>
        
                                        <label *ngIf="(column.type==='number')">
                                          <input type="number" [disabled]="column.disabled" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #number="ngModel" (keypress)="onlyNumberWithDecimal($event,row.row[j].value)" 
                                           (ngModelChange)="calculationOfTableValue(row.row,sectionField.id,input.childFields)"
                                          [minlength]="column.minlength" [maxlength]="column.maxlength" [required]="column.required">
                                          <div class="messages text-danger" *ngIf="(number.touched || submitted) && number.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                        </label>
                                        <label *ngIf="(column.type==='date')">
                                            <input type="date" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #date="ngModel" [required]="column.required">
                                            <div class="messages text-danger" *ngIf="(date.touched || submitted) && date.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                          </label>
                                        <label *ngIf="(column.type==='textarea')">
                                          <textarea  [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #textarea="ngModel" [required]="column.required"></textarea>
                                          <div class="messages text-danger" *ngIf="(textarea.touched || submitted) && textarea.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
                                        </label>
        
                                        <div *ngIf="(column.type==='select')">
                                          <label *ngIf="!column.multiple">
                                           <select class="select-table"  [required]="column.required" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #select="ngModel">
                                             <option *ngFor='let optionList of column.values' [value]="optionList.value">{{optionList.label}}
                                             </option>
                                           </select>
                                           <div class="messages text-danger" *ngIf="(select.touched || submitted) && select.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
        
                                         </label>
                                         <div  style="width: 400px;" *ngIf="column.multiple">
                                          <textarea class="multiple-textarea" [rows]="(row.row[j].value.length/50)+1" [innerHtml]="row.row[j].value"></textarea>
                                         </div>
                                        </div>
                                        <label *ngIf="(column.type==='checkbox-group')">
                                          <div *ngFor="let cheboxvalue of row.row[j].values ; let lengthIndex=index;" >
                                              <label >
                                                <input type="checkbox" [name]='row.row[j].name'   [checked]="cheboxvalue.selected"
                                                  (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckBoxValidation(row.row[j]);">
                                               {{cheboxvalue.label}}
                                              </label>
                                               <div  class="messages text-danger" *ngIf="(!row.row[j].checkBoxValidationFlag) && submitted && column.required && lengthIndex== (row.row[j].values.length-1)"> <label [for]="row.row[j].name" [innerHtml]="column.label"></label> can't be blank</div>
                                          </div>
        
                                        </label>
        
                                        <label *ngIf="(column.type==='radio-group')">
                                          <div *ngFor="let radioButtonValue of row.row[j].values">
                                              <label>
                                                <input class="default-radio" type="checkbox" [name]='row.row[j].name' [checked]="radioButtonValue.selected"
                                                  (change)="setCheckedAsRadio(row.row[j].values,$event,radioButtonValue.value)">
                                               {{radioButtonValue.label}}
                                              </label>
                                            </div>
                                        </label>
                                        <label *ngIf="(column.type==='datetime-local')">
                                          <input  type="datetime-local" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                            [required]="column.required" #dateTime="ngModel">
                                            <div class="messages text-danger" *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                        </label>
                                        <label *ngIf="(column.type==='time')">
                                          <input  type="time" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                            [required]="column.required" #time="ngModel">
                                          <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                        </label>
                                        <div class="form-group row" *ngIf="(column.type==='file')" >
                                          <input style="margin-left: 1rem;" type="file" [name]='row.row[j].name' (change)="onFileUpload($event,row.row[j])" [multiple]="column.multiple"
                                            [(ngModel)]='row.row[j].value' #file="ngModel">
                                          <div class="messages text-danger"
                                            *ngIf="(file.touched || submitted) && ( column.required && ( row.row[j].values == undefined|| row.row[j].values.length==0))">
                                            <label [innerHtml]="column.label"></label> can't be blank</div>
                                        <br><br>
                                        <div class="col-form-label"  *ngIf='row.row[j].values!=undefined && row.row[j].values.length >0'>
                                          <strong class="col-sm-12" *ngIf="(column.multiple)" >Uploaded Files</strong>
                                          <strong class="col-sm-12" *ngIf="(!column.multiple)" >Uploaded File</strong>
                                          <div class="dt-desc dy-ui">
                                            <table class="table-striped table-bordered">
                                              <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                              <tbody>
                                              <tr *ngFor="let file of row.row[j].values ; let fileIndex=index ">
                                                <td>{{fileIndex+1}}</td>
                                                <td><label>{{file.fileName}}</label></td>
                                                <td><label>{{file.displayDate}}</label></td>
        
                                                <td>
                                                  <!-- <a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                                  ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,sectionField.name)"></a>&nbsp;&nbsp; -->
                                                  <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                                   ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,row.row[j].name)"></a>&nbsp;&nbsp;
                                                  <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                                  ngbTooltip="delete" (click)="deleteUploadedFile(row.row[j].values,fileIndex,row.row[j].name)"></a>&nbsp;&nbsp;
                                                </td>
                                              </tr>
                                            </tbody>
                                            </table>
                                          </div>
                                        </div>
                                    </div>
                                  </td>
                                </ng-container>
                                  <!-- <td>{{row.createdBy}}</td>
                                  <td>{{row.createdTime | date:'dd-MM-yy HH:mm:ss ' }}</td> -->
        
                                </tr>
        
                              </tbody>
                            </table>
                            <br><br>
                          </app-card>
                        </div>
                    </div>
                  </div>
                </app-card>
              </div>
              <div class="form-group row" *ngIf="(input.subtype==='Text')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-5" [ngStyle]="{'background-color': !input.color? 'white' : input.color}" [disabled]="input.disabled" [type]='input.subtype' [name]='input.name' [(ngModel)]='input.value'
                    [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength" (ngModelChange)="conditionCheckFull(inputField);" (blur)="reference(inputField)"
                    #text="ngModel">
                  <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                </div>
              </div>
              <div class="form-group row" *ngIf="(input.subtype==='Email')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                    <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-5" [type]='input.subtype' [name]='input.name' [(ngModel)]='input.value'
                    [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength"
                    [pattern]="helper.email_pattern" #email="ngModel">
                  <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                  <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                </div>
              </div>
              <div class="form-group row" *ngIf="(input.subtype==='Mobile')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-5" type="text" [name]='input.name' [(ngModel)]='input.value'
                    [minlength]="input.minlength" [required]="input.required" [maxlength]="input.maxlength"
                    #tel="ngModel" pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)">
                  <div class="messages text-danger" *ngIf="(tel.touched || submitted) && tel.errors?.required">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                  <div class="messages text-danger" *ngIf="tel.errors?.pattern">Please enter a valid <label
                      [innerHtml]="input.label"></label></div>
                </div>
              </div>
              <div class="form-group row" *ngIf=" (input.type==='number')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-3" [type]='input.type' [name]='input.name' [(ngModel)]='input.value' [disabled]="input.disabled"
                    [minlength]="input.minlength" [maxlength]="input.maxlength" [required]="input.required"  (ngModelChange)="calculation(inputField);" (blur)="reference(inputField)" (keypress)="onlyNumberWithDecimal($event,input.value)"
                    #dateNumber="ngModel">
                  <div class="messages text-danger"
                    *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                    <label [innerHtml]="input.label"></label></div>
                </div>
              </div>
              <div class="form-group row" *ngIf="(input.type==='date')" >
                  <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                        [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                        class="asterisk">*</span>
                      <a *ngIf="input.description!=undefined" href="javascript:;"
                        class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                        [ngbTooltip]="input.description">
                        <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                       </a>
                      <button *ngIf="input.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                      ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                    </label></b>
                  <div class="col-sm-10">
                    <input class="form-control col-sm-3"  [disabled]="input.disabled" [type]='input.type' [name]='input.name' [(ngModel)]='input.value'
                       [required]="input.required" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)"
                      #dateNumber="ngModel">
                    <div class="messages text-danger"
                      *ngIf="(dateNumber.touched || submitted) && dateNumber.errors?.required">Enter valid
                      <label [innerHtml]="input.label"></label></div>
                  </div>
                </div>
              <div class="form-group row" *ngIf="(input.type==='file')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div *ngIf="(!input.multiple)"  class="col-sm-6">
                  <input [type]='input.type' [name]='input.name' (change)="onFileUpload($event,input)"
                    [(ngModel)]='input.value' #file="ngModel">
                  <div class="messages text-danger"
                    *ngIf="(file.touched || submitted) && ( input.required && ( input.values == undefined|| input.values.length==0))">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                </div>
                <div *ngIf="(input.multiple)"  class="col-sm-6">
                  <div  class=" files color">
                    <input type="file" [name]='input.name' [(ngModel)]='input.value' (change)="onFileUpload($event,input)" multiple  #fileMultiple="ngModel">
                  </div>
                 <div class="messages text-danger"
                    *ngIf="(fileMultiple.touched || submitted) && ( input.required && ( input.values == undefined|| input.values.length==0))">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                </div>
                <br><br>
                <div class="col-form-label"  *ngIf='input.values!=undefined && input.values.length>0'>
                  <strong class="col-sm-12" *ngIf="(input.multiple)" >Uploaded Files</strong>
                  <strong class="col-sm-12" *ngIf="(!input.multiple)" >Uploaded File</strong>
                  <div class="dt-desc dy-ui">
                    <table class="table-striped table-bordered">
                      <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                      <tbody>
                      <tr *ngFor="let file of input.values ; let fileIndex=index ">
                        <td>{{fileIndex+1}}</td>
                        <td><label>{{file.fileName}}</label></td>
                        <td><label>{{file.displayDate}}</label></td>

                        <td><a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                          ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,input.name)"></a>&nbsp;&nbsp;
                          <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                           ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,input.name)"></a>&nbsp;&nbsp;
                          <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                          ngbTooltip="delete" (click)="deleteUploadedFile(input.values,fileIndex,input.name)"></a>&nbsp;&nbsp;
                        </td>
                      </tr>
                    </tbody>
                    </table>
                  </div>
                </div>
                <div id="{{input.name}}"> </div>
              </div>
              <div class="sm-12" *ngIf="(input.type==='header')">

                <div *ngIf="(input.subtype==='h1')">
                  <h1 [innerHtml]="input.label"></h1>
                </div>
                <div *ngIf="(input.subtype==='h2')">
                  <h2 [innerHtml]="input.label"></h2>
                </div>
                <div *ngIf="(input.subtype==='h3')">
                  <h3 [innerHtml]="input.label"></h3>
                </div>

              </div>
              <div *ngIf="(input.type==='paragraph')">
                <p class="sm-12" [innerHtml]="input.label"></p>
              </div>
              <div  class="form-group row" *ngIf="(input.type==='newline')">
                <hr class="form-hr">
              </div>
              <div class="form-group row" *ngIf="(input.type==='textarea')">
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                    <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div *ngIf="(input.subtype==='quill')" class="col-sm-10">
                  <quill-editor [name]='input.name' [(ngModel)]='input.value' [required]="input.required"
                    [maxlength]="input.maxlength" #quill="ngModel">
                  </quill-editor>
                  <div class="messages text-danger" *ngIf="(quill.touched || submitted) && quill.errors?.required">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                </div>

                <div *ngIf="(input.subtype==='ckeditor')" class="col-sm-10">
                    <ckeditor [config]="configOfCkEditior"      [name]="input.name"   [required]="input.required" [(ngModel)]="input.value" #ckeditor="ngModel"   ></ckeditor>
                    <div class="messages text-danger" *ngIf="(ckeditor.touched || submitted) && ckeditor.errors?.required">
                      <label [innerHtml]="input.label"></label> can't be blank</div>
                  </div>

              </div>
              <div class="form-group row" *ngIf="(input.type==='select')" >
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label [innerHtml]="input.label"></label>
                    <span *ngIf="input.required!=undefined" class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <div class="container row">
                    <select class="form-control col-sm-5" [required]="input.required" [name]="input.name" [(ngModel)]="input.value" (change)="restValueOfOther(input);reference(inputField);"
                      #select="ngModel">
                      <option *ngFor='let optionList of input.values' [value]="optionList.value">{{optionList.label}}
                      </option>
                      <option *ngIf="input.other" value="govalOther">Other</option>
                    </select>
                  </div><br>
                  <div *ngIf="input.value=='govalOther'" class="container row">
                    <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                    <div class="col-sm-4">
                      <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                        #selectOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" (blur)="reference(inputField)"/>
                      <div class="messages text-danger"
                        *ngIf="(selectOtherValue.touched || submitted) && selectOtherValue.errors?.required">
                        <label>Other Value can't be blank</label></div>
                    </div>
                  </div>
                    <div   class="messages text-danger" *ngIf="input.value!='govalOther'&&(select.touched || submitted) && select.errors?.required">
                    <label [innerHtml]="input.label"></label> can't be blank</div>
                </div>
              </div>
              <div class="form-group row" *ngIf="(input.type==='checkbox-group')">
                <b><label class="col-sm-12" [for]='input.name'><label [innerHtml]="input.label"></label><span
                      *ngIf="input.required!=undefined" class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                      placement="top" [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-12">
                  <div class="container row">
                    <ng-container *ngFor="let cheboxvalue of input.values">
                      <div class="col-sm-12">
                        <div class="checkbox-fade fade-in-primary">
                          <label>
                            <input type="checkbox" [name]="input.name" [checked]="cheboxvalue.selected"
                              (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckedData(input.values,input)">
                            <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                            <span>{{cheboxvalue.label}}</span>
                          </label>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <div *ngIf="input.other" class="container row ">
                    <div class="col-sm-12">
                      <div class="checkbox-fade fade-in-primary">
                        <label>
                          <input type="checkbox" [name]="input.name" [checked]="input.otherSelected"
                            (change)="input.otherSelected=!input.otherSelected;restValueOfOther(input)">
                          <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-success"></i></span>
                          <span>Other</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="input.otherSelected" class="container row">
                    <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                    <div class="col-sm-4">
                      <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                        #checkBoxOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" />
                      <div class="messages text-danger"
                        *ngIf="(checkBoxOtherValue.touched || submitted) && checkBoxOtherValue.errors?.required">
                        <label>Other Value can't be blank</label></div>
                    </div>
                  </div>
                  <div *ngIf="!input.otherSelected && (submitted &&(input.value===undefined||input.value.length==0)&& input.required)"
                    class="messages text-danger"><label [innerHtml]="input.label"></label> can't be blank</div>
                </div>
              </div>
              <div class="form-group row" *ngIf="(input.type==='radio-group')">
                <b><label class="col-sm-12" [for]='input.name'><label [innerHtml]="input.label"></label> <span
                      *ngIf="input.required!=undefined" class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                      placement="top" [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-12">
                  <div class="form-radio" *ngFor="let radioButtonValue of input.values">
                    <form>
                      <div class="radio radiofill">
                        <label>
                          <input type="checkbox" [name]="input.name" [checked]="radioButtonValue.selected"
                            (change)="setCheckedAsRadio(input.values,$event,radioButtonValue.value,input)" />
                          <span class="cr"></span>
                          <i class="helper"></i>{{radioButtonValue.label}}
                        </label>
                      </div>
                    </form>
                  </div>
                  <div class=" container row form-radio" *ngIf="input.other">
                    <form>
                      <div class="radio radiofill">
                        <label>
                          <input type="checkbox" [name]="input.name" [checked]="input.otherSelected"
                            (change)="setCheckedAsRadio(input.values,$event,'govalOther',input)">
                          <span class="cr"></span><i class="helper"></i>
                          <span>Other</span>
                        </label>
                      </div>&nbsp;&nbsp;
                    </form>
                  </div>
                  <div *ngIf="input.otherSelected" class="container row">
                    <label class="col-sm-2" for="OtherId-{{input.name}}">Other Value</label>
                    <div class="col-sm-4">
                      <input id="OtherId-{{input.name}}" class="form-control " [(ngModel)]="input.otherValue" required
                        #radioOtherValue="ngModel" type="text" name="Other-{{input.name}}" placeholder="Value" />
                      <div class="messages text-danger"
                        *ngIf="(radioOtherValue.touched || submitted) && radioOtherValue.errors?.required">
                        <label>Other Value can't be blank</label></div>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="(input.type==='datetime-local')" class="form-group row">
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a>
                    <button *ngIf="input.addTask && dynamicForm.id!=0" type="submit" class="btn btn-link m-r-10 p-0" (click)="createTask(input,dynamicForm)"
                      ><p class="strong font-italic"><i class="icofont icofont-tasks"></i>Create Task</p></button>
                    </label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-3" [disabled]="input.disabled" type="datetime-local" [name]='input.label' [(ngModel)]='input.value'
                    [required]="input.required" #dateTime="ngModel" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)">
                  <div class="messages text-danger"
                    *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid
                    <label [innerHtml]="input.label"></label></div>
                </div>
              </div>
              <div *ngIf="(input.type==='time')" class="form-group row">
                <b><label class="col-sm-12 col-form-label" [for]='input.name'><label
                      [innerHtml]="input.label"></label><span *ngIf="input.required!=undefined"
                      class="asterisk">*</span>
                    <a *ngIf="input.description!=undefined" href="javascript:;"
                      class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                      [ngbTooltip]="input.description">
                      <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                    </a></label></b>
                <div class="col-sm-10">
                  <input class="form-control col-sm-2" type="time" [disabled]="input.disabled" [name]='input.label' [(ngModel)]='input.value'
                    [required]="input.required" #time="ngModel" (ngModelChange)="calculation(inputField)" (blur)="reference(inputField)">
                  <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter
                    valid
                    <label [innerHtml]="input.label"></label></div>
                </div>
              </div>
              <div class="table-responsive ">
                  <app-card *ngIf="input.type=='table'">
                    <h1 style="text-align: center;" class="sm-12" [innerHtml]='input.name'> </h1>
                    <button *ngIf="!tableFixedColumnFlag" class="btn btn-primary" (click)="addRow(input)"><i class="icofont icofont-plus-circle">Add Row</i></button>
                    <table id="tableIdDivRefresh" #tableIdDivRefresh class="table table-striped table-bordered ">
                      <thead>
                        <tr>
                          <th>#</th>
                          <ng-container *ngFor="let column of input.columns">
                          <th *ngIf="column.type!='hidden'" > <label [innerHtml]='column.label'></label><span *ngIf="column.required!=undefined" class="asterisk">*</span>
                            <a *ngIf="column.description!=undefined" href="javascript:;"
                            class="m-r-15 crm-action-info text-muted text-primary" placement="top"
                            [ngbTooltip]="column.description">
                            <i style="font-size: 17px" class="icofont icofont-info-circle"></i>
                          </a></th>
                        </ng-container>
                        </tr>
                      </thead>
                      <tbody *ngFor="let row of input.rows ; let i = index" [attr.data-index]="i">

                        <tr>
                          <td>
                            <label >{{i+1}}</label>
                              <input *ngIf="!input.fixedRow" type="checkbox"  [name]='i'   placement="top" ngbTooltip="Delete" (change)="deleteRow($event,input,i);">

                           </td>
                           <ng-container *ngFor="let column of input.columns ; let j = index" [attr.data-index]="j">
                          <td  *ngIf="column.type!='hidden'">

                              <label *ngIf="(column.subtype=='Text')">
                                  <input type="text" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'  [minlength]="column.minlength" [ngStyle]="{'background-color': !row.row[j].color? 'transparent' : row.row[j].color}" 
                                  [disabled]="column.disabled"   [required]="column.required" [maxlength]="column.maxlength"  #text="ngModel"  (ngModelChange)="conditionCheckForTableFull(input.id,inputField,row.row)" >
                                    <div class="messages text-danger" *ngIf="(text.touched || submitted) && text.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                </label>
                                <label *ngIf="(column.subtype=='Email')">
                                  <input  type="email" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                    [pattern]="helper.email_pattern" #email="ngModel">
                                    <div class="messages text-danger" *ngIf="(email.touched || submitted) && email.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                    <div class="messages text-danger" *ngIf="email.errors?.pattern">Please enter a valid Email Id</div>
                                </label>
                                <label *ngIf="(column.subtype=='Mobile')">
                                  <input type="tel" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' pattern="^[6789]\d{9}$" (keypress)="onlyNumber($event)" #mobile="ngModel">
                                  <div class="messages text-danger" *ngIf="(mobile.touched || submitted) && mobile.errors?.required"><label [innerHtml]="column.label"></label> can't be blank</div>
                                    <div class="messages text-danger" *ngIf="mobile.errors?.pattern">Please enter a valid <label  [innerHtml]="column.label"></label></div>
                                </label>

                                <label *ngIf="(column.type==='number')">
                                  <input type="number" [disabled]="column.disabled" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #number="ngModel" (keypress)="onlyNumberWithDecimal($event,row.row[j].value)" 
                                   (ngModelChange)="calculationOfTableValue(row.row,input.id,inputField)"
                                  [minlength]="column.minlength" [maxlength]="column.maxlength" [required]="column.required">
                                  <div class="messages text-danger" *ngIf="(number.touched || submitted) && number.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                </label>
                                <label *ngIf="(column.type==='date')">
                                    <input type="date" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #date="ngModel" [required]="column.required">
                                    <div class="messages text-danger" *ngIf="(date.touched || submitted) && date.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                  </label>
                                <label *ngIf="(column.type==='textarea')">
                                  <textarea  [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #textarea="ngModel" [required]="column.required"></textarea>
                                  <div class="messages text-danger" *ngIf="(textarea.touched || submitted) && textarea.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>
                                </label>

                                <div *ngIf="(column.type==='select')">
                                  <label *ngIf="!column.multiple">
                                   <select class="select-table"  [required]="column.required" [name]='row.row[j].name' [(ngModel)]='row.row[j].value' #select="ngModel">
                                     <option *ngFor='let optionList of column.values' [value]="optionList.value">{{optionList.label}}
                                     </option>
                                   </select>
                                   <div class="messages text-danger" *ngIf="(select.touched || submitted) && select.errors?.required"> <label [innerHtml]="column.label"></label> can't be blank</div>

                                 </label>
                                 <div  style="width: 400px;" *ngIf="column.multiple">
                                  <textarea class="multiple-textarea" [rows]="(row.row[j].value.length/50)+1" [innerHtml]="row.row[j].value"></textarea>
                                 </div>
                                </div>
                                <label *ngIf="(column.type==='checkbox-group')">
                                  <div *ngFor="let cheboxvalue of row.row[j].values ; let lengthIndex=index;" >
                                      <label >
                                        <input type="checkbox" [name]='row.row[j].name'   [checked]="cheboxvalue.selected"
                                          (change)="cheboxvalue.selected=!cheboxvalue.selected;setCheckBoxValidation(row.row[j]);">
                                       {{cheboxvalue.label}}
                                      </label>
                                       <div  class="messages text-danger" *ngIf="(!row.row[j].checkBoxValidationFlag) && submitted && column.required && lengthIndex== (row.row[j].values.length-1)"> <label [for]="row.row[j].name" [innerHtml]="column.label"></label> can't be blank</div>
                                  </div>

                                </label>

                                <label *ngIf="(column.type==='radio-group')">
                                  <div *ngFor="let radioButtonValue of row.row[j].values">
                                      <label>
                                        <input class="default-radio" type="checkbox" [name]='row.row[j].name' [checked]="radioButtonValue.selected"
                                          (change)="setCheckedAsRadio(row.row[j].values,$event,radioButtonValue.value)">
                                       {{radioButtonValue.label}}
                                      </label>
                                    </div>
                                </label>
                                <label *ngIf="(column.type==='datetime-local')">
                                  <input  type="datetime-local" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                    [required]="column.required" #dateTime="ngModel">
                                    <div class="messages text-danger" *ngIf="(dateTime.touched || submitted) && dateTime.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                </label>
                                <label *ngIf="(column.type==='time')">
                                  <input  type="time" [name]='row.row[j].name' [(ngModel)]='row.row[j].value'
                                    [required]="column.required" #time="ngModel">
                                  <div class="messages text-danger" *ngIf="(time.touched || submitted) && time.errors?.required">Enter valid <label [innerHtml]="column.label"></label></div>
                                </label>
                                <div class="form-group row" *ngIf="(column.type==='file')" >
                                  <input style="margin-left: 1rem;" type="file" [name]='row.row[j].name' (change)="onFileUpload($event,row.row[j])" [multiple]="column.multiple"
                                    [(ngModel)]='row.row[j].value' #file="ngModel">
                                  <div class="messages text-danger"
                                    *ngIf="(file.touched || submitted) && ( column.required && ( row.row[j].values == undefined|| row.row[j].values.length==0))">
                                    <label [innerHtml]="column.label"></label> can't be blank</div>
                                <br><br>
                                <div class="col-form-label"  *ngIf='row.row[j].values!=undefined && row.row[j].values.length >0'>
                                  <strong class="col-sm-12" *ngIf="(column.multiple)" >Uploaded Files</strong>
                                  <strong class="col-sm-12" *ngIf="(!column.multiple)" >Uploaded File</strong>
                                  <div class="dt-desc dy-ui">
                                    <table class="table-striped table-bordered">
                                      <thead><th>Sl. No</th><th>File Name</th><th>Date</th><th>Action</th></thead>
                                      <tbody>
                                      <tr *ngFor="let file of row.row[j].values ; let fileIndex=index ">
                                        <td>{{fileIndex+1}}</td>
                                        <td><label>{{file.fileName}}</label></td>
                                        <td><label>{{file.displayDate}}</label></td>

                                        <td>
                                          <!-- <a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
                                          ngbTooltip="view" (click)="downloadFileOrView(file.fileName,file.path,true,input.name)"></a>&nbsp;&nbsp; -->
                                          <a style="cursor:pointer;font-weight: bold" class="icofont icofont-download" placement="top" container="body"
                                           ngbTooltip="Download" (click)="downloadFileOrView(file.fileName,file.path,false,row.row[j].name)"></a>&nbsp;&nbsp;
                                          <a style="cursor:pointer;font-weight: bold" style="cursor: pointer;" class="icofont icofont-ui-delete" placement="top" container="body"
                                          ngbTooltip="delete" (click)="deleteUploadedFile(row.row[j].values,fileIndex,row.row[j].name)"></a>&nbsp;&nbsp;
                                        </td>
                                      </tr>
                                    </tbody>
                                    </table>
                                  </div>
                                </div>
                            </div>
                          </td>
                        </ng-container>
                          <!-- <td>{{row.createdBy}}</td>
                          <td>{{row.createdTime | date:'dd-MM-yy HH:mm:ss ' }}</td> -->

                        </tr>

                      </tbody>
                    </table>
                    <br><br>
                  </app-card>
                </div>
            </div>
          </div>
            <!-- <div class="col-sm-12" style="text-align: center;">
              <button *ngIf="isEquipmentStatus && dynamicForm.id==0 && !this.dynamicForm.publishedflag" type="button" class="btn btn-success"
              (click)="$event.preventDefault();saveDynamicFormData(formId.valid,false);"><i
                class="icofont icofont-papers"></i>Save</button>

              <button *ngIf="!isEquipmentStatus && dynamicForm.id==0 && !this.dynamicForm.publishedflag" type="button" class="btn btn-success"
                [disabled]="!permissionModel.createButtonFlag"
                (click)="$event.preventDefault();saveDynamicFormData(formId.valid,false);"><i
                  class="icofont icofont-papers"></i>Save</button>

              <button *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag && isWorkflowDocumentOrderSequence"
               type="button" class="btn btn-outline-success btn-success btn-round"
                [disabled]="!this.permissionModel.publishButtonFlag " (click)="saveDynamicFormData(formId.valid,true);"><i
                  class="icofont icofont-paper-plane"></i>Publish</button> 

              <button *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag" type="button" class="btn btn-success"
                [disabled]="!permissionModel.updateButtonFlag"
                (click)="$event.preventDefault();saveReasonForEdit(formId.valid);"><i
                  class="icofont icofont-papers"></i>Update</button>

              <button *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag && permissionModel.workFlowButtonFlag" type="button" class="btn btn-success"
                (click)="verify(dynamicForm.permissionConstant,this.dynamicForm.dynamicFormCode,dynamicForm.id);"><i class="icofont icofont-papers"></i>Verify</button>

              <button *ngIf="dynamicForm.id!=0 && !this.dynamicForm.publishedflag &&permissionModel.deleteButtonFlag" type="button" class="btn btn-warning"
                 (click)="deleteTemplateSwal(dynamicForm);"><i
                  class="icofont icofont-bin"></i>Delete</button>

               <button type="button" class="btn btn-danger" (click)="navigateDestination()"><i
                  class="icofont icofont-close"></i>Cancel</button>

            </div> -->
          </form>
          <br><br>
        </div>
      </div>
      <hr>
      <app-document-forum *ngIf="dynamicForm.id!=0 && !dynamicForm.multipleEntry"></app-document-forum>
    </app-card>

  </div>
  
</div>
</ng-container>
</div>
</div>
<app-individual-audit-trail #auditSingleView [permission]="individualconstants" [id]="individualId"></app-individual-audit-trail>
<div *ngIf="spinnerFlag" class="loading">Loading&#8230;</div>
<app-form-esign-verification #formVerification></app-form-esign-verification>
<app-modal-basic #masterFormSlection [dialogClass]="'modal-lg'" class="modal-dialog modal-dialog-scrollable">
  <div class="app-modal-header">
    <h4 class="modal-title">Select Master</h4>
    <button type="button" class="close basic-close" (click)="closeMasterFormSlectionPopUp(false);">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div style="max-height: 400px;" class="app-modal-body" slimScroll railVisible="true" railColor="#004a6d" width="100%" height="400px"
  size="12px" color="#737373" opacity="0.6" allowPageScroll="false">
    <div class="dt-desc" style="padding: 0px;">
      <div class="row">
        <div class="col-sm-2">Form Reference<span class="asterisk required">*</span></div>
        <div class="col-sm-10">
          <ng-select [ngClass]="'ng-select'" [options]="masterFormList" [multiple]="true" required name="linkedMasterFormName"
            [(ngModel)]="this.dynamicForm.masterLinkIds" (ngModelChange)="addTableOnMasterFormSelection()"  #linkedMasterForm="ngModel"></ng-select>
        </div>
      </div>
     
      <ng-container class="well well-lg" *ngFor="let table of this.dynamicJsonTable; let i=index">
        <br>
        <div style="padding-left: 0px;" class="row" class="col-sm-12">
          <label class="float-left">
            <h4 class="strong">{{table.masterName}}</h4>
          </label>
          <label class="float-right"> Search :
            <input type="search" [(ngModel)]="table.filterQuery" (ngModelChange)="this.helper.setPaginator(table)" class="form-control input-sm full-data-search"
              placeholder="search"></label><br><br>
        </div>
      <ngx-datatable  [scrollbarH]="true" #myTable class="data-table dt-chk" style="overflow: unset!important;"
							[rows]='table.tableData.rows | textPipeFilter : table.filterQuery' [limit]="10" [columnMode]="'force'"
              [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'">
              <ng-container *ngFor="let col of table.tableData.columns; let i = index">
              <ngx-datatable-column sortable *ngIf="i!=1" style="font-weight: bold;"  [name]="col"
                flexGrow="1.0">
                <ng-template  ngx-datatable-header-template>
                  <span class="datatable-header-cell-wrapper">
                    <span class="datatable-header-cell-label draggable"><label [innerHtml]="col"></label></span>
                  </span>
                </ng-template>
                
                <ng-template  let-row="row" ngx-datatable-cell-template>
                  <ng-container *ngIf="i==0">
                  <div  class="checkbox-fade fade-in-primary">
                    <label>
                      <input type="checkbox" name="{{row[1]}}"
                        [checked]="row[0]=='false'?false:true" 
                        (change)="row[0]=row[0]=='false'?'true':'false';
                        " />
                      <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                    </label>
                    </div>
                  </ng-container>
                    
                  <strong *ngIf="i!=0 "><label [innerHtml]="row[i]"></label></strong>
                </ng-template>
              </ngx-datatable-column>
             
            </ng-container>
      </ngx-datatable>
    </ng-container>
    </div>
  </div>
  <div class="app-modal-footer">
    <button type="button" class="btn btn-default waves-effect" (click)="closeMasterFormSlectionPopUp(true);">Submit</button>
  </div>
</app-modal-basic>

<div class="basic modal fade in" tabindex="-1" style="display: block; opacity: 1;"
  [style.display]="showModal ? 'block' : 'none'">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <div class="app-modal-header">
          <h4 class="modal-title">Reason For Edit</h4>
          <button class="close basic-close" type="button" (click)="onCloseReasonForEditPopup();"></button>
        </div>
      </div>
      <div class="modal-body">
        <div class="app-modal-body">
          <div class="form-group row">
            <div class="col-sm-12">
              <textarea style="height: 100px;" class="form-control max-textarea" [(ngModel)]="reasonForEdit" name="reasonForEdit" focus="true"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="app-modal-footer">
          <button *ngIf="reasonForEdit !=''" type="button" class="btn btn-success waves-effect " (click)="saveReasonData()">Save</button>
          <button type="button" class="btn btn-default waves-effect"
            (click)="onCloseReasonForEditPopup();">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
<app-modal-basic #alterMasterFormReference [dialogClass]="'modal-lg'" class="modal-dialog modal-dialog-scrollable">
  <div class="app-modal-header">
    <h4 *ngIf="this.masterReferenceForm"  class="modal-title strong">Edit {{this.masterReferenceForm.templateName}}</h4>
    <button type="button" class="close basic-close" (click)="closeMasterFormRefrence();">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div style="max-height: 400px;" class="app-modal-body" slimScroll railVisible="true" railColor="#004a6d" width="100%"
    height="400px" size="12px" color="#737373" opacity="0.6" allowPageScroll="false">
    <div class="dt-desc" style="padding: 0px;">
      <ng-container *ngIf="this.inputFieldMasterReference.length">
        <div class="container">
          <div *ngIf="this.masterReferenceForm.dynamicFormCode" class="row">
            <div class="col-sm-12"><strong>Document Code:</strong> {{masterReferenceForm.dynamicFormCode}}</div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <app-form-extended #formExtendedId [(inputField)]='inputFieldMasterReference'
              [documentId]="masterReferenceForm.permissionConstant" [(submitted)]='submittedMasterReference'>
            </app-form-extended>
            </div>
          </div>
          
         
        </div>
      </ng-container>
    </div>
  </div>
  <div class="app-modal-footer container">
    <div class="row text-center">
      <div class="col-sm-12">
        <button class="btn btn-success" (click)="updateMasterReference()"> Update</button>
        <button class="btn btn-danger" (click)="closeMasterFormRefrence()"> Cancel</button>
      </div>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic #APIGetDataModal [dialogClass]="'modal-md'" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="app-modal-header">
    <h4 class="modal-title">Parameters</h4>
    <button type="button" class="close basic-close" (click)="APIGetDataModal.hide();">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <form #apiParametersform="ngForm">
      <div *ngFor="let parameter of apiParameters">
        <div class="form-group row" *ngIf="(parameter.dataType ==='text')">
          <label class="col-sm-2 col-form-label">{{parameter.paramaterName}}
          </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" [name]='parameter.paramaterName'
             [(ngModel)]='parameter.value' #text="ngModel" required/>
             <div class="messages text-danger" *ngIf="(text.touched || parametersFormSubmitted) && text.errors?.required">
              {{parameter.paramaterName}} can't be blank</div>
          </div>
        </div>
        <div class="form-group row" *ngIf="(parameter.dataType ==='number')">
          <label class="col-sm-2 col-form-label">{{parameter.paramaterName}}
          </label>
          <div class="col-sm-10">
            <input type="number" class="form-control" [name]='parameter.paramaterName'
             [(ngModel)]='parameter.value' #number="ngModel" required/>
             <div class="messages text-danger"
             *ngIf="(number.touched || parametersFormSubmitted) && number.errors?.required">Enter valid {{parameter.paramaterName}}</div>
          </div>
        </div>
        <div class="form-group row" *ngIf="(parameter.dataType ==='date')">
          <label class="col-sm-2 col-form-label">{{parameter.paramaterName}}
          </label>
          <div class="col-sm-10">
            <input type="date" class="form-control" placeholder="User Name" [name]='parameter.paramaterName' 
            [(ngModel)]='parameter.value' #dateNumber="ngModel" required/>
            <div class="messages text-danger"
            *ngIf="(dateNumber.touched || parametersFormSubmitted) && dateNumber.errors?.required">Enter valid 
            {{parameter.paramaterName}} </div>
          </div>
        </div>
        <div class="form-group row" *ngIf="(parameter.dataType ==='datetime-local')">
          <label class="col-sm-2 col-form-label">{{parameter.paramaterName}}
          </label>
          <div class="col-sm-10">
            <input type="datetime-local" class="form-control" [name]='parameter.paramaterName' 
            [(ngModel)]='parameter.value' #dateTime="ngModel" required/>
            <div class="messages text-danger" *ngIf="(dateTime.touched || parametersFormSubmitted) && dateTime.errors?.required">Enter valid
             {{parameter.paramaterName}}</div>
          </div>
        </div>
      </div>
      <div class="col-sm-12" style="text-align: center;">
        <button type="button" class="btn btn-success"
          (click)="$event.preventDefault();getparametersData(apiParametersform);">Submit</button>
          <button type="button" class="btn btn-danger" (click)="APIGetDataModal.hide();resetParameterForm(apiParametersform);">Close</button>
      </div>
    </form>
  </div>
  <div class="app-modal-footer">
  </div>
</app-modal-basic>

<app-modal-basic class="reset-this" #ShowImageModal container="body" [hideFooter]="true" [dialogClass]="'modal-lg'">
  <div class="app-modal-header">
    <h4 class="modal-title">Uploaded Image</h4>
    <button type="button" class="close basic-close" (click)="ShowImageModal.hide();">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body" style="height: 600px; overflow-y: scroll;">
    <img [src]="imageurl" width="100%" style="height: 75%;">
  </div>
</app-modal-basic>
<app-external-form-modal #externalFormModal></app-external-form-modal>