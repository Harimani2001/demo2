<div class="row" *ngIf="!this.viewIndividualData && !isViewImportedData">
  <div class="col-sm-12">

      <div class="col-sm-12" id="float-action">
        <app-card>
          <div class="row">
            <div class="col-sm-2">
              <div *ngIf="this.tabName !='audit'">
                <angular2-multiselect name="locationName" [data]="this.locationsList" id="locationId"
                  (ngModelChange)="filterProjectList($event, this.validationStatus)" [(ngModel)]="this.location"
                  [settings]="locationDropdownSettings"></angular2-multiselect>
              </div>
            </div>
            <div class="col-sm-2">
              <div *ngIf="this.tabName !='audit'">
                <angular2-multiselect name="validationStatus" [data]="this.validationStatusList" id="validationStatus"
                  (ngModelChange)="filterProjectList(this.location, $event)" [(ngModel)]="this.validationStatus"
                  [settings]="statusDropdownSettings"></angular2-multiselect>
              </div>
            </div>
            <div class="col-sm-8 text-right">
              <a *ngIf="permissionModal.publishButtonFlag && isSelectedPublishData" href="javascript:" class="m-r-15"><img
                  class="image-radius rounded-0 img-25" src="assets/icon/png-icons/published.png" alt="Publish"
                  placement="bottom" ngbTooltip="Publish" (click)="publishData()"></a>
              <span class="m-r-15" *ngIf="!projectCountFlag"><label [innerHtml]='this.projectCountMsg'></label></span>
          
              <a *ngIf="this.tabName == 'draft' || this.tabName == 'published'" href="javascript:" class="m-r-15"><img
                  class="image-radius rounded-0 img-25" src="assets/icon/png-icons/search.png" alt="Search"
                  placement="bottom" ngbTooltip="Search" (click)="this.showSearch=!this.showSearch"></a>
              <input *ngIf="(this.tabName == 'draft' || this.tabName == 'published') && this.showSearch" type="search"
                [(ngModel)]="filterQuery" (ngModelChange)="this.helper.setPaginator(table)"
                class="form-control input-sm full-data-search m-r-15" placeholder="Search">

              <a *ngIf="permissionModal.createButtonFlag && projectCountFlag" href="javascript:" class="m-r-15"
                (click)="navigateToProjectSetUp();" routerLinkActive="active">
                <img class="image-radius rounded-0 img-25" src="assets/icon/png-icons/addProject.png" alt="Add Project"
                  placement="bottom" ngbTooltip="Add Project"></a>

              <a *ngIf="permissionModal.createButtonFlag  && projectCountFlag" href="javascript:" class="m-r-15"
                [routerLink]="['/Project-setup/create-projectWizard']" routerLinkActive="active">
                <img class="image-radius rounded-0 img-25" src="assets/icon/png-icons/addWizard.png"
                  alt="Add Project With Wizard" placement="bottom" ngbTooltip="Add Project With Wizard"></a>

              <a *ngIf="isInventoryModulePermission" href="javascript:" class="m-r-15"
                [routerLink]="['/inventory-report']" routerLinkActive="active">
                <img class="image-radius rounded-0 img-23" src="assets/icon/png-icons/inventory.png" alt="Inventory"
                  placement="bottom" ngbTooltip="Inventory"></a>

              <a *ngIf="permissionModal.createButtonFlag  && projectCountFlag" href="javascript:" class="m-r-15">
                <img class="image-radius rounded-0 img-30" src="assets/icon/png-icons/file.png" alt="File Info"
                  placement="bottom" (click)="loadProjectFTPSize();" ngbTooltip="File Info"></a>
            </div>
          </div>
        </app-card>
      </div><br><br><br>
      <ngb-tabset #projectSetupTab="ngbTabset" [(activeId)]="tabName" (tabChange)="onTabChange($event.nextId);">
        <ngb-tab title="Summary" id="summary">
          <ng-template ngbTabContent>
              <div class="row" style="height: 100px;">

                <div style="display: flex;overflow: auto;">
                  <div *ngFor="let project of summaryData">
                    <div class="card list-wrapper">
                      <div class="card-block list">
                        <h4 class="card-title card-title-padding" [ngStyle]="{'background-color':project.colorCode}">
                          {{project.validationStatus}}</h4>
                        <div class="list-cards" [ngStyle]="{'max-height':windowHeight.innerHeight-250+'px'}">
                          <div *ngFor="let dto of project.projectSetupDTOlist">
                            <div class="card card-margin" style="opacity: 1;">
                              <div class="card-body" style="padding: 10px;">
                                <span style="text-overflow: ellipsis;
                                  display: -webkit-box;
                                  -webkit-line-clamp: 2;
                                  overflow: hidden !important;
                                  -webkit-box-orient: vertical;">
                                  <strong class="strong">{{dto.projectName}}</strong>
                                  <a container="body" *ngIf="permissionModal.viewButtonFlag" href="javascript:;"
                                    class="crm-action-view text-muted text-warning float-right"
                                    (click)="viewRowDetails(dto.id);" placement="top" ngbTooltip="View">
                                    <i class="icofont icofont-resize view"></i>
                                  </a>
                                  <a container="body" *ngIf="permissionModal.updateButtonFlag && dto.editable"
                                    href="javascript:;" routerLinkActive="active"
                                    (click)="navigateToProjectSetUp(dto.id);"
                                    class="m-r-15 crm-action-edit text-muted text-primary float-right" placement="top"
                                    ngbTooltip="Edit">
                                    <i class="icofont icofont-edit edit"></i>
                                  </a>
                                  <a *ngIf="project.key!='Draft' && dto.overAllDocCount.publishedDoc && dto.overAllDocCount.completedDoc" class="m-r-15 font-size-9px float-right"
                                    style="margin-top: -7px;">
                                    {{calculatePercentage(dto.overAllDocCount.publishedDoc,
                                    dto.overAllDocCount.completedDoc)}}%
                                  </a>
                                  <a *ngIf="project.key!='Draft' && dto.overAllDocCount.publishedDoc && dto.overAllDocCount.completedDoc" class="progress w-15 float-right m-t-10"
                                    style="height: 0.5em !important; margin-right: -20px;">
                                    <a class={{this.progressBarColour}} role="progressbar" aria-valuenow=this.percentage
                                      aria-valuemin="0" aria-valuemax="100" [style.width]="this.percentage + '%'">
                                    </a>
                                  </a>
                                </span>
                                <span class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <strong>Project Type</strong> : {{dto.projectType}}
                                </span>
                                <span *ngIf="dto.systemDescription.softwareName || dto.projectVersionName"
                                  class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <strong>Software</strong> : {{dto.systemDescription.softwareName}}
                                  <span class="m-l-10">|<strong class="m-l-10">Version</strong> :
                                    {{dto.projectVersionName}}</span>
                                  <span class="m-l-10">|<strong class="m-l-10">CheckList</strong> :
                                    {{dto.checkListStatus}}</span>
                                </span>
                                <span *ngIf="dto.systemDescription.equipmentName || dto.systemDescription.gampCategory"
                                  class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <span><strong>Equipment</strong> :
                                    {{dto.systemDescription.equipmentName?dto.systemDescription.equipmentName:'N/A'}}</span>
                                  <span *ngIf="dto.systemDescription.gampCategory" class="m-l-10">|<strong
                                      class="m-l-10">GAMP Category</strong> :
                                    {{dto.systemDescription.gampCategory?dto.systemDescription.gampCategory:'NA'}}</span>
                                </span>
                                <span *ngIf="dto.departmentName || dto.systemOwnerName" class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <strong>Department</strong> : {{dto.departmentName}}
                                  <span class="m-l-10">|<strong class="m-l-10">System Owner</strong> :
                                    {{dto.systemOwnerName}}</span>
                                </span>
                                <span *ngIf="dto.displayReleaseDate || dto.displayVsrNextReviewDate"
                                  class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <strong>Release Date</strong> : {{dto.displayReleaseDate}}
                                  <span *ngIf="dto.displayVsrNextReviewDate" class="m-l-10">|<strong
                                      class="m-l-10">Periodic Review</strong> : {{dto.displayVsrNextReviewDate}}</span>
                                </span>
                                <!-- <span *ngIf="project.key!='Draft'" class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <span class="m-r-10"><strong>Draft</strong> : <span class="deepPink">{{dto.overAllDocCount.draftCount}}</span></span>
                                  |
                                  <span class="m-l-10 m-r-10"><strong>In Progress</strong> : <span class="green">{{dto.overAllDocCount.inProgressCount}}</span></span>
                                  |
                                  <span class="m-l-10 m-r-10"><strong>Completed</strong> : <span class="blue">{{dto.overAllDocCount.completedCount}}</span></span>
                                  |
                                  <span class="m-l-10"><strong>Total</strong> : {{dto.overAllDocCount.totalCount}}</span>
                                </span>
                                <span *ngIf="project.key!='Draft'" class="font-size-12px">
                                  <hr class="horzontal_line">
                                  <strong>Test Case :</strong>
                                  <span class=" m-l-5 m-r-5"><strong>Pass</strong> : <span class="green">{{dto.overAllDocCount.tcPassCount}}</span></span>
                                  |
                                  <span class=" m-l-5 m-r-5"><strong>NA</strong> : <span class="green">{{dto.overAllDocCount.nACount}}</span></span>
                                  |
                                  <span class="m-l-5 m-r-5"><strong>In Progress</strong> : <span  class="text-primary">{{dto.overAllDocCount.tcInProgressCount}}</span></span>
                                  |
                                  <span class="m-l-5 m-r-5"><strong>Fail</strong> : <span class="deepPink">{{dto.overAllDocCount.tcfailCount}}</span></span>
                                  |
                                  <span class="m-l-5"><strong>DF</strong> : {{dto.overAllDocCount.dfCount}}</span>
                                </span>
                                <hr class="horzontal_line"> -->
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Draft" id="draft">
          <ng-template ngbTabContent>
            <ngx-datatable [scrollbarH]="true" #myTable class="data-table dt-chk" id="view-project-table-id"
              [rows]='unpublishedData | projectsetupFilter : filterQuery' [columnMode]="'force'" [headerHeight]="50"
              [footerHeight]="50" [rowHeight]="'auto'" [externalPaging]="true" [count]="page.totalElements"
              [offset]="page.pageNumber" [limit]="page.size" (page)="setPage($event)">
              <ngx-datatable-column *ngIf="permissionModal.publishButtonFlag" name="Select" [width]="70"
                [sortable]="false" [canAutoResize]="false" [draggable]="false" [resizeable]="false">
                <ng-template class="datatable-checkbox" ngx-datatable-cell-template let-row="row"
                  let-isSelected="isSelected" let-onCheckboxChangeFn="onCheckboxChangeFn">
                  <div *ngIf="row.editable && row.activeFlag==true" class="checkbox-fade fade-in-primary">
                    <label>
                      <input type="checkbox" name="{{row['projectName']}}" [checked]="row.publishedFlag"
                        (change)="row.publishedFlag=!row.publishedFlag;onChangePublishData();" />
                      <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                    </label>
                  </div>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Project Name">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['projectName']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Validation Status">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['validationStatus']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="System Status">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemStatus']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="System Owner">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemOwnerName']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Gamp Category">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemDescription']['gampCategory']?row['systemDescription']['gampCategory']
                    :'N/A'}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Action">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <ng-template #popContent>
                    <span class="text-left">
                      <div><b>Created By :</b>&nbsp; {{row['createdBy']}}</div>
                      <div><b>Created On :</b>&nbsp;{{row['displayCreatedTime']}}</div>
                      <div><b>Last Modified By : </b> {{row['updatedBy']}}</div>
                      <div><b>Last Modified On : </b>{{row['displayUpdatedTime'] }}</div>
                    </span>
                  </ng-template>
                  <a container="body" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                    placement="right" (click)="loadDocumentCommentLog(row)" placement="top" ngbTooltip="Info">
                    <i class="icofont icofont-info-square info"></i>
                  </a>
                  <a container="body" *ngIf="permissionModal.updateButtonFlag && row.editable" href="javascript:;"
                    routerLinkActive="active" (click)="navigateToProjectSetUp(row.id);"
                    class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Edit">
                    <i class="icofont icofont-edit edit"></i>
                  </a>
                  <a container="body" *ngIf="permissionModal.viewButtonFlag" href="javascript:;"
                    class="m-r-15 crm-action-view text-muted text-warning" (click)="viewRowDetails(row.id);"
                    placement="top" ngbTooltip="View">
                    <i class="icofont icofont-resize view"></i>
                  </a>
                  <a container="body" href="javascript:;" class="m-r-15 crm-action-view text-muted text-warning"
                    (click)="onClickRequiremennt(row);" placement="top" ngbTooltip="Requirement Summary">
                    <i class="icofont icofont-list edit"></i>
                  </a>
                  <a container="body" *ngIf="row['createProjectUsingWizard']" href="javascript:;"
                    class="m-r-15 crm-action-view text-muted text-warning" (click)="viewImportedData(row);"
                    placement="top" ngbTooltip="View imported Data">
                    <i class="icofont icofont-share-alt"></i>
                  </a>
                  <a *ngIf="row['activeFlag'] == false" href="javascript:;" placement="bottom" ngbTooltip="InActive"><img
                      style="padding-bottom: 4px;" src="assets/images/disabled.png">&nbsp;&nbsp;</a>

                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Published" id="published">
          <ng-template ngbTabContent>
            <ngx-datatable [scrollbarH]="true" #myTable class="data-table dt-chk" id="view-project-table-id"
              [rows]='publishedData | projectsetupFilter : filterQuery' [columnMode]="'force'" [headerHeight]="50"
              [footerHeight]="50" [rowHeight]="'auto'" [externalPaging]="true" [count]="page.totalElements"
              [offset]="page.pageNumber" [limit]="page.size" (page)="setPage($event)">
              <ngx-datatable-column name="Project Name">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['projectName']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Validation Status">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['validationStatus']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="System Status">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemStatus']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="System Owner">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemOwnerName']}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Gamp Category">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['systemDescription']['gampCategory']?row['systemDescription']['gampCategory']
                    :'N/A'}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Release Date" [width]="170">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['displayReleaseDate']?row['displayReleaseDate']
                    :'N/A'}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Next Review Date" [width]="170">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <strong
                    style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['displayVsrNextReviewDate']?row['displayVsrNextReviewDate']
                    :'N/A'}}</strong>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Action" [width]="200">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <ng-template #popContent>
                    <span class="text-left">
                      <div><b>Created By :</b>&nbsp; {{row['createdBy']}}</div>
                      <div><b>Created On :</b>&nbsp;{{row['displayCreatedTime']}}</div>
                      <div><b>Last Modified By : </b> {{row['updatedBy']}}</div>
                      <div><b>Last Modified On : </b>{{row['displayUpdatedTime'] }}</div>
                    </span>
                  </ng-template>
                  <a container="body" href="javascript:;" class="m-r-15 crm-action-info text-muted text-primary"
                    placement="right" (click)="loadDocumentCommentLog(row)" placement="top" ngbTooltip="Info">
                    <i class="icofont icofont-info-square info"></i>
                  </a>
                  <a container="body" *ngIf="permissionModal.updateButtonFlag && row.editable" href="javascript:;"
                    routerLinkActive="active" (click)="navigateToProjectSetUp(row.id);"
                    class="m-r-15 crm-action-edit text-muted text-primary" placement="top" ngbTooltip="Edit">
                    <i class="icofont icofont-edit edit"></i>
                  </a>
                  <a container="body" *ngIf="permissionModal.viewButtonFlag" href="javascript:;"
                    class="m-r-15 crm-action-view text-muted text-warning" (click)="viewRowDetails(row.id);"
                    placement="top" ngbTooltip="View">
                    <i class="icofont icofont-resize view"></i>
                  </a>
                  <a container="body" href="javascript:;" class="m-r-15 crm-action-view text-muted text-warning"
                    (click)="onClickRequiremennt(row);" placement="top" ngbTooltip="Requirement Summary">
                    <i class="icofont icofont-list edit"></i>
                  </a>
                  <a *ngIf="row.newVersionRequired" container="body" href="javascript:;"
                    class="m-r-15 crm-action-view text-muted text-warning"
                    (click)="loadProjectDetailsForNewVersion(row.projectVersionId);" placement="top"
                    ngbTooltip="Create Project Version"><i class="icofont icofont-safety"></i>
                  </a>
                  <a *ngIf="row['activeFlag'] == false" href="javascript:;" placement="bottom" ngbTooltip="InActive"><img
                      style="padding-bottom: 4px;" src="assets/images/disabled.png">&nbsp;&nbsp;</a>
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </ng-template>
        </ngb-tab>
        <ngb-tab id="audit" title="Audit Trail">
          <ng-template ngbTabContent>
            <app-audit-trail-view #auditView [permission]="this.helper.PROJECT_SETUP_VALUE"></app-audit-trail-view>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
  </div>
</div>

<app-card [blockClass]="'accordion-block scale-accordion'" *ngIf="this.viewIndividualData==true">
  <div *ngFor="let data of popupdata; let in = index">
    <app-card id="individual-header-card">
      <div class="row">
        <div class="col-sm-5">
          <h4>Project Details</h4>
        </div>
        <div class="col-sm-2">
          <span *ngIf="this.projectChecklistStatus !=''"> <span style="background-color: yellow;">Checklist</span> :
            <a href="javascript:void(0)" (click)="onClickChecklistStatus()">{{this.projectChecklistStatus}}</a></span>
          <div *ngIf="this.projectChecklistStatus !=''" style="display: flex;">
            <div style="font-size: 11px;padding-right: 3px;margin-top: -7px;">{{projectChecklistPercentage}}%</div>
            <div>
              <div class="progress" style="width: 90px;height: 8px;">
                <div class="progress-bar" [style.width]="projectChecklistPercentage + '%'"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-2">
          <app-stepperprogress *ngIf="data.publishedFlag" [isIcon]="true"></app-stepperprogress>
        </div>
        <div class="col-sm-3 text-right">
          <button *ngIf="permissionModal.updateButtonFlag && data.editable" type="submit"
            class="btn btn-sm btn-primary waves-effect waves-light m-r-10"
            (click)="navigateToProjectSetUp(this.tempRowId);">Edit</button>
          <button *ngIf="!permissionModal.publishedFlag && !data.publishedFlag && data.editable" type="button"
            class="btn btn-sm btn-warning  waves-effect waves-light m-r-10" (click)="publishData()">Publish</button>
          <button *ngIf="routeback!=null && roleBack==null" type="button"
            class="btn btn-sm btn-danger waves-effect waves-light m-r-10"
            [routerLink]="[this.commonDocumentStatusValue]">Cancel</button>
          <button *ngIf="routeback!=null && roleBack!=null" type="button"
            class="btn btn-sm btn-danger waves-effect waves-light m-r-10"
            [routerLink]="[this.commonDocumentStatusValue]" [queryParams]="{ id: this.roleBack}">Cancel</button>
          <button *ngIf="routeback==null" type="button" class="btn btn-sm btn-danger waves-effect waves-light m-r-10"
            (click)="this.viewIndividualData=false;loadProjectsbasedOnTab(this.tabName)">Cancel</button>
        </div>
      </div>
    </app-card>
    <ng-container>

      <table id="projectsetup-table" class="table w-100">
        <tbody>
          <tr>
            <td>
              <div><strong class="strong">Project Name : </strong>{{data.projectName}}</div>
            </td>
            <td>
              <div>
                <strong class="strong">Project Type : </strong>{{data.projectType}}
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div> <strong class="strong">Project Code : </strong>{{data.projectCode?data.projectCode:"N/A"}}</div>
            </td>
            <td>
              <div><strong class="strong">Department Name : </strong>{{data.departmentName}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Expected Start Date : </strong>{{data.startDate?data.startDate:"N/A"}}</div>
            </td>
            <td>
              <div><strong class="strong">Expected End Date : </strong>{{data.endDate?data.endDate:"N/A"}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">System Owner : </strong>{{data.systemOwnerName?data.systemOwnerName:'N/A'}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Business Owner :
                </strong>{{data.businessOwnerName?data.businessOwnerName:'N/A'}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Introduction : </strong>
                <label name="introduction" [innerHtml]="data.introduction?data.introduction:'N/A'"></label>
              </div>
            </td>
            <td>
              <div><strong class="strong">Purpose : </strong>
                <label name="purposeAndScope" [innerHtml]="data.purposeAndScope?data.purposeAndScope:'N/A'"></label>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <div><strong class="strong">Scope : </strong>
                <label name="description" [innerHtml]="data.description?data.description:'N/A'"></label>
              </div>
            </td>
            <td>
              <div><strong class="strong">GAMP Category : </strong>
                {{data.systemDescription.gampCategory?data.systemDescription.gampCategory:'N/A'}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Validation Status : </strong>
                <span class="bg-yellow">{{data.validationStatus?data.validationStatus:'N/A'}}</span>
              </div>
            </td>
            <td>
              <div><strong class="strong">System Status : </strong>
                <span class="bg-yellow">{{data.systemStatus?data.systemStatus:'N/A'}}</span>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Equipment Name : </strong>
                {{data.systemDescription.equipmentName?data.systemDescription.equipmentName:'N/A'}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Location Name : </strong>{{data.locationName}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Type : </strong>
                {{data.systemDescription.type ? data.systemDescription.type :'N/A'}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Software Name : </strong>
                {{data.systemDescription.softwareName ? data.systemDescription.softwareName :'N/A'}}
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Software Version : </strong>
                {{data.systemDescription.softwareVersion ? data.systemDescription.softwareVersion :'N/A'}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Use : </strong>
                {{data.systemDescription.use ? data.systemDescription.use :'N/A'}}
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Release Date: </strong>
                {{data.displayReleaseDate}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Next Review Date :
                </strong>{{data.vsrNextReviewDate?data.vsrNextReviewDate:'N/A'}}</div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Supplier Name : </strong>
                {{data.systemDescription.supplierDisplayName?data.systemDescription.supplierDisplayName:'N/A'}}
              </div>
            </td>
            <td>
              <div><strong class="strong">Hosting Type : </strong>
                {{data.systemDescription.hostingType?data.systemDescription.hostingType:'N/A'}}
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Validation Strategy : </strong>
                <p *ngIf="data.systemDescription.validationStrategy" name="validationStrategy"
                  [innerHtml]="data.systemDescription.validationStrategy"></p>
                <ng-container *ngIf="!data.systemDescription.validationStrategy">N/A</ng-container>
              </div>
            </td>
            <td>
              <div><strong class="strong">Acceptance Criteria : </strong>
                <p *ngIf="data.systemDescription.acceptanceCriteria" name="acceptanceCriteria"
                  [innerHtml]="data.systemDescription.acceptanceCriteria"></p>
                <ng-container *ngIf="!data.systemDescription.acceptanceCriteria">N/A</ng-container>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div><strong class="strong">Change Control Number :
                </strong>{{data.customCCFValue?data.customCCFValue:"N/A"}}</div>
            </td>
          </tr>
        </tbody>
      </table>

      <div *ngIf="this.fileFlag" class="form-group row col-sm-12">
        <div class="col-sm-12"><strong class="strong">View Uploaded SOP Files</strong></div>
        <div class="col-sm-12 p-0">
          <app-file-upload-for-doc #viewFileupload [uniqueCodeForAudit]="data.projectName"
            [documentId]="data.systemDescription.id" [multiple]=false [onlyView]=true
            [documentCode]="this.helper.PROJECT_SETUP_VALUE"></app-file-upload-for-doc>
        </div>
      </div>

      <div *ngIf="this.checkListFlag" class="form-group row col-sm-12">
        <div class="col-sm-12"><strong class="strong">URL Reference</strong></div>
        <div class="col-sm-12 p-0">
          <app-project-url-checklist #checkListURLId view="project-setup-view" [projectId]="data.id">
          </app-project-url-checklist>
        </div>
      </div>
      <div *ngIf="data.systemDescription.gxpForm" class="row col-sm-12 p-0 ml-0">
        <div class="col-sm-12 p-0"><strong class="strong">GxP Assessment</strong></div>
        <div style="pointer-events: none;" class="col-sm-12 p-0">
          <app-gxp [projectId]="data.id" [freezeFlag]="true"> </app-gxp>
        </div>
      </div>
      <div class="col-sm-12"><strong class="strong">Document List</strong></div>
      <div class="col-sm-12 p-0">
        <ng-container *ngFor="let config of data.documentConfigurations ">
          <app-workflow-flowchart [workFlowChartData]="config" #workFlowChart></app-workflow-flowchart>
        </ng-container>
      </div>
      <br>
      <app-view-form *ngIf="this.popupdata" [inputField]='this.popupdata'></app-view-form>
      <app-individual-audit-trail *ngIf="data" [permission]="this.helper.PROJECT_SETUP_VALUE" [id]="data.id">
      </app-individual-audit-trail>
    </ng-container>

    &nbsp;&nbsp;<br><br><br>
    <app-document-forum *ngIf="data" [constant]="this.helper.PROJECT_SETUP_VALUE" [id]="data.id"></app-document-forum>
  </div>
</app-card>
<app-card [blockClass]="'accordion-block scale-accordion'" *ngIf="isViewImportedData">
  <div><br>
    <h4>&nbsp;&nbsp;Imported Data
      <a style="float: right;cursor:pointer;font-weight: bold" class="ti-close"
        (click)="this.isViewImportedData=false">&nbsp;&nbsp;</a>
    </h4>
  </div>
  <br>
  <div style="padding-left: 15px;">
    <label>Select Document:
      <select name="select" class="form-control input-sm full-data-search" [(ngModel)]="selectedDocument" name="Title"
        (ngModelChange)="onChangeDocument()">
        <option value="" selected>Select Document</option>
        <option *ngFor="let doc of docItemList" [ngValue]="doc.id">{{doc.name}}</option>
      </select>
    </label>
  </div>
  <br>
  <ngx-datatable #myTable class="data-table dt-chk" [rows]='documentList' [limit]="20" [headerHeight]="50"
    [footerHeight]="50" [rowHeight]="'auto'">
    <ngx-datatable-column style="font-weight: bold;" name="Sl No.">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <strong>{{row['$$index']+1}}</strong>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column style="font-weight: bold;" name="Document Id">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <strong>{{row['documentId']}}</strong>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column style="font-weight: bold;" name="Description ">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <strong style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">
          {{row['description']}}</strong>
      </ng-template>
    </ngx-datatable-column>

  </ngx-datatable>
</app-card>

<div *ngIf="spinnerFlag" class="loading">Loading&#8230;</div>
<app-document-status-comment-log #documentcomments></app-document-status-comment-log>
<version-creation-button #manualVersionCreation (compelete)="loadProjectsbasedOnTab();"></version-creation-button>

<app-modal-basic #fileSize [hideFooter]="true" [dialogClass]="'modal-lg padding'">
  <div class="app-modal-header">
    <h5 class="font-header"><strong>File Size</strong></h5>
    <button type="button" class="close basic-close" (click)="fileSize.hide();flag=true">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div style="max-height: 400px;" class="app-modal-body">
    <div><b>FTP:</b>&nbsp;{{this.ftpFolderSize}}</div>
    <div><b>Database:</b>&nbsp;{{this.dBSize}}</div>
  </div>

</app-modal-basic>
<app-project-checklist #projectCheckList (onClose)="onClosecheckListModal()"></app-project-checklist>