<div class="row">
  <div class="col-sm-12">
    <app-card>
      <form #myform="ngForm">
        <div class="row">
          <div class="col-sm-12 col-form-label">Category Name<span class="asterisk required">*</span></div>
          <div class="col-sm-6">
            <input #categoryName type="text" class="form-control" maxlength="200" name="categoryName"
              [(ngModel)]="modal.categoryName" #catName="ngModel" required placeholder="Category Name" />
            <div class="messages text-danger" *ngIf="(catName.valid || submitted) && catName.errors?.required">Category
              Name is required
            </div>
          </div>
          <div class="col-sm-2">
            <button *ngIf="permisionModal.createButtonFlag && !this.updateFlag" type="button"
              class="btn btn-sm btn-success waves-effect waves-light m-r-10"
              (click)="onsubmit(myform.valid);">Save</button>
            <button *ngIf="this.updateFlag && permisionModal.updateButtonFlag" type="button"
              class="btn btn-sm btn-success waves-effect waves-light m-r-10"
              (click)="onsubmit(myform.valid);">Update</button>
            <button type="button" class="btn btn-sm btn-danger waves-effect waves-light"
              (click)="onClickCancel();">Cancel</button>
          </div>
        </div>
      </form>
    </app-card>
  </div>
</div>

<div class="row" *ngIf="!this.isDefault">
  <div class="col-sm-12">
    <app-card [title]="''">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-sm-12 col-md-6">
        </div>
        <div class="col-xs-12 col-sm-12 col-md-6">
          <div style="text-align: right;">
            <label>Search:
              <input type="search" [(ngModel)]="filterQuery" (ngModelChange)="this.helper.setPaginator(table)"
                class="form-control input-sm full-data-search" placeholder="Search">
            </label>
          </div>
        </div>
      </div>
      <ngx-datatable [scrollbarH]="true" #myTable class="data-table dt-chk"
        [rows]='data | CategoryFilterPipe : filterQuery' [limit]="10" [columnMode]="'force'" [headerHeight]="50"
        [footerHeight]="50" [rowHeight]="'auto'">
        <ngx-datatable-row-detail [rowHeight]="'auto'" #myDetailRow>
        </ngx-datatable-row-detail>

        <ngx-datatable-column style="font-weight: bold;" name="Category Name">
          <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
            <strong
              style="font-family: Verdana, Geneva, Tahoma, sans-serif; font-weight: normal;">{{row['categoryName']}}</strong>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Action" [width]="50">
          <ng-template let-row="row" ngx-datatable-cell-template>
            <a *ngIf="permisionModal.updateButtonFlag" container="body" href="javascript:;"
              (click)="editcategory(row.id)" class="m-r-15 crm-action-edit text-muted text-primary" placement="top"
              ngbTooltip="Edit">
              <i class="icofont icofont-edit edit"></i>
            </a>
            <a *ngIf="permisionModal.deleteButtonFlag" container="body" href="javascript:;"
              class="m-r-15 crm-action-delete text-muted text-danger" (click)="openSuccessCancelSwal(row , row.id );"
              placement="top" ngbTooltip="Delete">
              <i class="icofont icofont-bin bin"></i>
            </a>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </app-card>
  </div>
</div>

<div *ngIf="isFlag" class="loading">Loading&#8230;</div>